!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[7733],{17733:function(n,o,a){"use strict";a.r(o),a.d(o,{TabsPageModule:function(){return q}});var i=a(47823),r=a(38583),s=a(90665),c=a(12234),l=a(64762),u=a(56544),g=a(51270),p=a(88720),f=a(18345),d=a(14303),h=a(51532),m=["openTabs"],v=function(e){return{activeTab:e}};function b(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",9),p.NdJ("click",function(e){return p.CHM(n),p.oxw().changeTab("home",e)}),p.TgZ(1,"p",10),p._UZ(2,"img",11),p._uU(3," \xa0"),p.TgZ(4,"span",12),p._uU(5,"Home"),p.qZA(),p.qZA(),p._UZ(6,"ion-ripple-effect"),p.qZA()}if(2&e){var o=p.oxw();p.Q6J("ngClass",p.VKq(1,v,"home"==o.activeTabs))}}function C(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",9),p.NdJ("click",function(e){return p.CHM(n),p.oxw().changeTab("profile",e)}),p.TgZ(1,"p",10),p._UZ(2,"img",13),p._uU(3," \xa0"),p.TgZ(4,"span",12),p._uU(5,"Profile"),p.qZA(),p.qZA(),p._UZ(6,"ion-ripple-effect"),p.qZA()}if(2&e){var o=p.oxw();p.Q6J("ngClass",p.VKq(1,v,"profile"==o.activeTabs))}}function _(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",9),p.NdJ("click",function(e){return p.CHM(n),p.oxw().changeTab("customer-allocation",e)}),p.TgZ(1,"p",10),p._UZ(2,"img",14),p._uU(3," \xa0"),p.TgZ(4,"span",12),p._uU(5,"Customer"),p.qZA(),p.qZA(),p._UZ(6,"ion-ripple-effect"),p.qZA()}if(2&e){var o=p.oxw();p.Q6J("ngClass",p.VKq(1,v,"customer-allocation"==o.activeTabs))}}function k(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",9),p.NdJ("click",function(e){return p.CHM(n),p.oxw().changeTab("orders",e)}),p.TgZ(1,"p",10),p._UZ(2,"img",15),p._uU(3," \xa0"),p.TgZ(4,"span",12),p._uU(5,"Orders"),p.qZA(),p.qZA(),p._UZ(6,"ion-ripple-effect"),p.qZA()}if(2&e){var o=p.oxw();p.Q6J("ngClass",p.VKq(1,v,"orders"==o.activeTabs))}}function T(e,t){1&e&&(p.TgZ(0,"div",16),p._uU(1," \xa0\xa0\xa0 \xa0\xa0\xa0 "),p.qZA())}function Z(e,t){1&e&&(p.TgZ(0,"ion-tab-button",25),p._UZ(1,"img",26),p.TgZ(2,"ion-label",20),p._uU(3,"Customer"),p.qZA(),p.qZA())}function w(e,t){1&e&&(p.TgZ(0,"ion-tab-button",27),p._UZ(1,"img",28),p.TgZ(2,"ion-label",20),p._uU(3,"Orders"),p.qZA(),p.qZA())}function x(e,t){if(1&e&&(p.TgZ(0,"ion-tab-bar",17),p.TgZ(1,"ion-tab-button",18),p._UZ(2,"img",19),p.TgZ(3,"ion-label",20),p._uU(4,"Home"),p.qZA(),p.qZA(),p.TgZ(5,"ion-tab-button",21),p._UZ(6,"img",22),p.TgZ(7,"ion-label",20),p._uU(8,"Profile"),p.qZA(),p.qZA(),p.YNc(9,Z,4,0,"ion-tab-button",23),p.YNc(10,w,4,0,"ion-tab-button",24),p.qZA()),2&e){var n=p.oxw();p.xp6(9),p.Q6J("ngIf","2"==n.employType),p.xp6(1),p.Q6J("ngIf",1==n.orderShow)}}var S,M,P=function(e){return{deskDiv1:e}},y=function(e){return[e]},U=[{path:"tabs",component:(S=function(){function n(t,o,a,i,r,s,c){e(this,n),this.zone=t,this.router=o,this.platform=a,this.popoverController=i,this.localStorage=r,this.apiService=s,this.sendData=c,this.activeTabs=""}var o,a,i;return o=n,(a=[{key:"ionViewWillEnter",value:function(){var e=this;this.localStorage.getStorage().then(function(t){e.employType=t.allStoreData.employee_type}),console.log("current tabs constructor==> ",this.apiService.isSelected),"true"==this.apiService.isSelected?this.router.navigateByUrl(2==this.employType?"tabs/customer-allocation":"tabs/orders"):(this.apiService.isSelected="",this.router.navigateByUrl("/tabs/home")),this.forceUpdate()}},{key:"ngOnInit",value:function(){}},{key:"forceUpdate",value:function(){var e=this;console.log("force Upadte call"),this.zone.run(function(){e.localStorage.getStorage().then(function(t){var n=t.fcmToken;console.log("finally get new fcm token on tabs page==",n),e.apiService.apiCallWithLoginToken(u.n.forceUpdateUrl,{registration_token:n||e.apiService.fcmToken||""}).subscribe(function(t){if(console.log("force Upadte call result",t),1==t.success||"1"==t.success){if(e.orderShow=t.conditionCheks.order_tab_access,1==t.conditionCheks.app_status||"1"==t.conditionCheks.app_status)e.sendData.alldata=t.conditionCheks.app_status,e.sendData.myParam=t.force_update_data,e.router.navigate(["/force-optional-update"]);else if(2==t.conditionCheks.app_status||"2"==t.conditionCheks.app_status)1==e.apiService.forceUpdateCount&&(e.sendData.alldata=t.conditionCheks.app_status,e.sendData.myParam=t.force_update_data,e.apiService.forceUpdateCount=e.apiService.forceUpdateCount+1,e.router.navigate(["/force-optional-update"]));else if(0==t.conditionCheks.app_status||"0"==t.conditionCheks.app_status)if(1==t.conditionCheks.is_down||"1"==t.conditionCheks.is_down)e.sendData.myParam=t.maintainence_data,e.router.navigate(["/maintenance"]);else if(0==t.conditionCheks.is_down||"0"==t.conditionCheks.is_down){if(0==t.conditionCheks.tnc_verified)return e.sendData.alldata=t.conditionCheks.tnc_data,e.router.navigate(["/terms-conditions"]),!1;if(0==t.conditionCheks.registration_status.is_uploaded)return e.sendData.registrationType={request_page:"home"},e.router.navigate(["/registration"]),!1;if(0==t.conditionCheks.profile_image_status.is_uploaded)return e.sendData.alldata={requestFor:"",requestPage:"home"},e.router.navigate(["/profile-upload"]),!1;if(0==t.conditionCheks.user_location_submit.is_uploaded)return e.sendData.alldata={requestFor:"",requestPage:"home"},e.router.navigate(["/geolocation"]),!1;if(1==t.conditionCheks.show_registration_image)return e.sendData.alldata=t.conditionCheks.registration_image,e.router.navigate(["/admin-approval"]),console.log("login data response",e.sendData.alldata),!1}}else 2!=t.success&&"2"!=t.success&&0!=t.success&&"0"!=t.success||e.logOutCall()},function(t){e.apiService.showToastMessage(JSON.stringify(t),"top",3e3,"redBg")})})})}},{key:"logOutCall",value:function(){var e=this;this.zone.run(function(){var t={};console.log("login data response",t),e.apiService.apiCallWithLoginToken(u.n.LogOutUrl,t).subscribe(function(t){console.log("logout data response",t),e.localStorage.remove("allStoreData"),e.apiService.generateDeviceId(),e.apiService.generateFCMToken(),e.maintance(),e.router.navigate(["/login"]),e.apiService.showToastMessage(t.message,"top",2e3,"greenBg")},function(t){e.apiService.showToastMessage(JSON.stringify(t),"top",3e3,"redBg")})})}},{key:"maintance",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.localStorage.getStorage().then(function(e){console.log("localStorage storedData storedData000",e)});case 2:this.zone.run(function(){t.apiService.apiCallWithLoginToken(u.n.maintanceUrl,{}).subscribe(function(e){return(0,l.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e.success&&"1"!=e.success){t.next=7;break}return this.maintanceData=e,t.next=4,this.localStorage.setStorage("maintainanceData",e);case 4:1!=e.data.is_down&&"1"!=e.data.is_down||(this.sendData.myParam=e.maintainence_data,this.router.navigate(["/maintenance"])),t.next=8;break;case 7:this.apiService.showToastMessage(e.message,"top",3e3,"redBg");case 8:case"end":return t.stop()}},t,this)}))},function(e){t.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})});case 3:case"end":return e.stop()}},e,this)}))}},{key:"changeTab",value:function(e,t){var n=this;this.zone.run(function(){"profile"==e?n.presentPopover(t):"communication-list"==e?n.apiService.showToastMessage("Coming Soon!","top",2e3,"redBg"):n.router.navigateByUrl("tabs/"+e),n.activeTabs=e})}},{key:"setCurrentTab",value:function(){var e=this;console.log("this.tabRef.getSelected()",this.tabRef.getSelected()),this.zone.run(function(){console.log("current tabs==> ",e.tabRef.getSelected()),e.activeTabs=e.tabRef.getSelected()})}},{key:"presentPopover",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:g.G,cssClass:"my-custom-class",event:e,translucent:!0});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}}])&&t(o.prototype,a),i&&t(o,i),n}(),S.\u0275fac=function(e){return new(e||S)(p.Y36(p.R0b),p.Y36(c.F0),p.Y36(i.t4),p.Y36(i.Dh),p.Y36(f.n),p.Y36(d.s),p.Y36(h.b))},S.\u0275cmp=p.Xpm({type:S,selectors:[["app-tabs"]],viewQuery:function(e,t){var n;1&e&&(p.Gf(m,5,i.UN),p.Gf(i.jP,5)),2&e&&(p.iGM(n=p.CRH())&&(t.tabRef=n.first),p.iGM(n=p.CRH())&&(t.routerOutlets=n))},decls:13,vars:13,consts:[[3,"translucent"],["slot","start",1,"headerButtons"],[3,"ngClass"],["src","assets/Bandhan Icon/Bandhan yellow logo.png","onerror","this.src='assets/watermark/watermark.png'",1,"homeBandhanLogo",3,"ngClass"],["class","ion-text-center inlineDiv ion-activatable ripple-parent",3,"ngClass","click",4,"ngIf"],["class","ion-text-center inlineDiv",4,"ngIf"],[3,"ionTabsDidChange"],["openTabs",""],["slot","bottom","style","position:relative;","class","headerColor",4,"ngIf"],[1,"ion-text-center","inlineDiv","ion-activatable","ripple-parent",3,"ngClass","click"],[1,"ion-no-margin","navIcon","tab_padd"],["src","assets/icon/Home.png","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],[1,"ion-no-margin","navText1","homepDiv1"],["src","assets/icon/Profile.png","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],["src","assets/icon/Customer.png","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],["src","assets/icon/Shop.png","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],[1,"ion-text-center","inlineDiv"],["slot","bottom",1,"headerColor",2,"position","relative"],["tab","home"],["src","assets/NavbarIcon/Home.svg","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],[1,"homepDiv"],["tab","profile"],["src","assets/NavbarIcon/Profile.svg","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],["tab","customer-allocation",4,"ngIf"],["tab","orders",4,"ngIf"],["tab","customer-allocation"],["src","assets/NavbarIcon/Customer.svg","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"],["tab","orders"],["src","assets/NavbarIcon/Order.svg","onerror","this.src='assets/watermark/watermark.png'",1,"homeLogo"]],template:function(e,t){1&e&&(p.TgZ(0,"ion-header",0),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",1),p.TgZ(3,"div",2),p._UZ(4,"img",3),p.qZA(),p.YNc(5,b,7,3,"div",4),p.YNc(6,C,7,3,"div",4),p.YNc(7,_,7,3,"div",4),p.YNc(8,k,7,3,"div",4),p.YNc(9,T,2,0,"div",5),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"ion-tabs",6,7),p.NdJ("ionTabsDidChange",function(){return t.setCurrentTab()}),p.YNc(12,x,11,2,"ion-tab-bar",8),p.qZA()),2&e&&(p.Q6J("translucent",!0),p.xp6(3),p.Q6J("ngClass",p.VKq(9,P,!(null!=t.platform&&t.platform.is("mobile")))),p.xp6(1),p.Q6J("ngClass",p.VKq(11,y,null!=t.platform&&t.platform.is("ios")?"b_logoIos":"b_logo")),p.xp6(1),p.Q6J("ngIf",!(null!=t.platform&&t.platform.is("mobile"))),p.xp6(1),p.Q6J("ngIf",!(null!=t.platform&&t.platform.is("mobile"))),p.xp6(1),p.Q6J("ngIf",!(null!=t.platform&&t.platform.is("mobile"))&&"2"==t.employType),p.xp6(1),p.Q6J("ngIf",!(null!=t.platform&&t.platform.is("mobile"))&&1==t.orderShow),p.xp6(1),p.Q6J("ngIf",!(null!=t.platform&&t.platform.is("mobile"))),p.xp6(3),p.Q6J("ngIf",null==t.platform?null:t.platform.is("mobile")))},directives:[i.Gu,i.sr,i.Sm,r.mk,r.O5,i.UN,i.H$,i.yq,i.ZU,i.Q$],styles:["ion-tab-button[_ngcontent-%COMP%]{color:var(--headerColor);border-bottom:3px solid var(--nonSelectedTabsBorder);background:var(--nonSelectedTabsBg)}.tab-selected[_ngcontent-%COMP%]{border-bottom:3px solid var(--headerColor);background:var(--selectedTabBg)}.tab-selected[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;color:var(--whiteColor);margin:0}.tab-selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--whiteColor)}ion-icon[_ngcontent-%COMP%]{font-size:25px}.notificationDiv[_ngcontent-%COMP%]{position:relative}.notificationDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;margin:0;font-size:12px;top:-5px;right:-5px;border-radius:50%;min-width:20px;min-height:20px;background:red;text-align:center;padding:3px 2px;color:#fff}.inlineDiv[_ngcontent-%COMP%]{position:relative;padding:12px 22px}.inlineDiv[_ngcontent-%COMP%]   p.navIcon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em!important;color:#6c7fcc;font-weight:700}.inlineDiv[_ngcontent-%COMP%]   p.navText1[_ngcontent-%COMP%]{font-size:13px;color:#fff}.activeTab[_ngcontent-%COMP%]{border-bottom:3px solid #fff}.activeTab[_ngcontent-%COMP%]   p.navIcon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em!important;color:#fff;font-weight:700}.activeTab[_ngcontent-%COMP%]   p.navText[_ngcontent-%COMP%]{font-size:13px;color:var(--headerColor)}.b_logo[_ngcontent-%COMP%]{margin-top:14px}.b_logo[_ngcontent-%COMP%], .b_logoIos[_ngcontent-%COMP%]{height:53px;margin-left:10px}.b_logoIos[_ngcontent-%COMP%]{margin-top:8px}.tab_padd[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.transparantBgColor[_ngcontent-%COMP%]{background:transparent}"]}),S),children:[{path:"home",loadChildren:function(){return a.e(1542).then(a.bind(a,61542)).then(function(e){return e.HomePageModule})}},{path:"profile",loadChildren:function(){return a.e(8592).then(a.bind(a,68243)).then(function(e){return e.ProfilePageModule})}},{path:"customer-allocation",loadChildren:function(){return a.e(9727).then(a.bind(a,99727)).then(function(e){return e.CustomerAllocationPageModule})}},{path:"orders",loadChildren:function(){return a.e(5548).then(a.bind(a,75548)).then(function(e){return e.OrdersPageModule})}},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]}],O=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.Bz.forChild(U)],c.Bz]}),t}(),q=((M=function t(){e(this,t)}).\u0275fac=function(e){return new(e||M)},M.\u0275mod=p.oAB({type:M}),M.\u0275inj=p.cJS({imports:[[i.Pc,r.ez,s.u5,O]]}),M)}}])}();