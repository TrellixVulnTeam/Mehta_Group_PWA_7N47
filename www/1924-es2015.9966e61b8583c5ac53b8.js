(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[1924],{81924:function(n,t,i){"use strict";i.r(t),i.d(t,{CommunicationDetailPageModule:function(){return q}});var o=i(38583),e=i(90665),l=i(47823),c=i(12234),a=i(56544),m=i(88720),s=i(14303),u=i(51532),r=i(18345),p=i(75176);function g(n,t){if(1&n&&m._UZ(0,"img",21),2&n){const n=m.oxw().$implicit;m.Q6J("src",null==n?null:n.media,m.LSH)}}function d(n,t){if(1&n&&m._UZ(0,"video",22),2&n){const n=m.oxw().$implicit;m.Q6J("src",null==n?null:n.media,m.LSH)("poster",null==n?null:n.thumb_image,m.LSH)}}function h(n,t){if(1&n&&(m._UZ(0,"iframe",23),m.ALo(1,"safe")),2&n){const n=m.oxw().$implicit;m.Q6J("src",m.lcZ(1,1,null==n?null:n.media),m.uOi)}}function f(n,t){if(1&n&&(m.TgZ(0,"ion-slide"),m.YNc(1,g,1,1,"img",18),m.YNc(2,d,1,2,"video",19),m.YNc(3,h,2,3,"iframe",20),m.qZA()),2&n){const n=t.$implicit;m.xp6(1),m.Q6J("ngIf",1==(null==n?null:n.media_type)||"1"==(null==n?null:n.media_type)),m.xp6(1),m.Q6J("ngIf",2==(null==n?null:n.media_type)||"2"==(null==n?null:n.media_type)),m.xp6(1),m.Q6J("ngIf",3==(null==n?null:n.media_type)||"3"==(null==n?null:n.media_type))}}function _(n,t){if(1&n){const n=m.EpF();m.TgZ(0,"ion-icon",24),m.NdJ("click",function(){m.CHM(n);const t=m.oxw();return t.doLike(null==t.community?null:t.community.data)}),m.qZA()}}function x(n,t){if(1&n){const n=m.EpF();m.TgZ(0,"ion-icon",25),m.NdJ("click",function(){m.CHM(n);const t=m.oxw();return t.doLike(null==t.community?null:t.community.data)}),m.qZA()}}function Z(n,t){if(1&n&&(m.TgZ(0,"div"),m.TgZ(1,"h5",26),m._uU(2),m.qZA(),m._UZ(3,"img",27),m.qZA()),2&n){const n=m.oxw();m.xp6(2),m.Oqu(null==n.community||null==n.community.data?null:n.community.data.no_comment_msg),m.xp6(1),m.Q6J("src",null==n.community||null==n.community.data?null:n.community.data.no_comment_image,m.LSH)}}function y(n,t){if(1&n&&(m.TgZ(0,"div",31),m.TgZ(1,"p",32),m._uU(2),m.qZA(),m.TgZ(3,"p",33),m._uU(4),m.qZA(),m._UZ(5,"p",34),m.qZA()),2&n){const n=m.oxw().$implicit;m.xp6(2),m.Oqu(null==n?null:n.full_name),m.xp6(2),m.Oqu(null==n?null:n.convert_time),m.xp6(1),m.Q6J("innerHTML",null==n?null:n.comments,m.oJD)}}function z(n,t){if(1&n&&(m.TgZ(0,"div",35),m.TgZ(1,"p",32),m._uU(2),m.qZA(),m.TgZ(3,"p",33),m._uU(4),m.qZA(),m._UZ(5,"p",34),m.qZA()),2&n){const n=m.oxw().$implicit;m.xp6(2),m.Oqu(null==n?null:n.full_name),m.xp6(2),m.Oqu(null==n?null:n.convert_time),m.xp6(1),m.Q6J("innerHTML",null==n?null:n.comments,m.oJD)}}function w(n,t){if(1&n&&(m.TgZ(0,"ion-row"),m.TgZ(1,"ion-col",28),m.YNc(2,y,6,3,"div",29),m.qZA(),m.TgZ(3,"ion-col",28),m.YNc(4,z,6,3,"div",30),m.qZA(),m.qZA()),2&n){const n=t.$implicit;m.xp6(1),m.Q6J("size",6),m.xp6(1),m.Q6J("ngIf","left"==(null==n?null:n.comment_align)),m.xp6(1),m.Q6J("size",6),m.xp6(1),m.Q6J("ngIf","right"==(null==n?null:n.comment_align))}}function T(n,t){if(1&n){const n=m.EpF();m.TgZ(0,"ion-col",36),m.TgZ(1,"ion-icon",37),m.NdJ("click",function(){m.CHM(n);const t=m.oxw();return t.doComment(t.comment)}),m.qZA(),m.qZA()}2&n&&m.Q6J("size",2)}const C=[{path:"",component:(()=>{class n{constructor(n,t,i,o,e,l){this.activeRoute=n,this.router=t,this.zone=i,this.apiService=o,this.sendData=e,this.localStorgae=l,this.comment="",this.slideOpts={initialSlide:1,speed:400,spaceBetween:10},this.communicationHomeData=this.sendData.alldata,this.localStorgae.getStorage().then(n=>{this.loginAllData=n.allStoreData,console.log("storedData",n)})}ionViewWillEnter(){this.communicationDetails()}ngOnInit(){}doLike(n){this.zone.run(()=>{0==n.like_status?(n.total_likes=parseInt(n.total_likes)+1,n.like_status=1):(n.total_likes=parseInt(n.total_likes)-1,n.like_status=0),this.apiService.apiCallWithLoginToken(a.n.DoLike,{flag_type:this.communicationHomeData.flag_type,post_id:this.communicationHomeData.post_id}).subscribe(n=>{console.log("DoLike: ",n)})})}communicationDetails(){this.apiService.presentLoadingDefault(),this.zone.run(()=>{this.apiService.apiCallWithLoginToken(a.n.PostDetailUrl,{flag_type:this.communicationHomeData.flag_type,post_id:this.communicationHomeData.post_id}).subscribe(n=>{console.log("PostListUrl: ",n),this.apiService.presentLoadingClose(),1==n.success&&(this.community=n,this.noComment=this.community.data.total_comments)},n=>{this.apiService.showToastMessage(JSON.stringify(n),"top",3e3,"redBg")})})}doComment(n){this.zone.run(()=>{let t={flag_type:this.communicationHomeData.flag_type,post_id:this.communicationHomeData.post_id,comment:this.comment},i={full_name:this.loginAllData.full_name,convert_time:"Just now",comments:n,comment_align:"right"};0==this.community.data.total_comments&&(this.noComment=1),this.community.data.comments.unshift(i),this.community.data.total_comments=parseInt(this.community.data.total_comments)+1,console.log("this community",this.community),""!=t.comment&&(console.log(t.comment),this.apiService.apiCallWithLoginToken(a.n.DoCommentUrl,t).subscribe(n=>{console.log("DoCommentUrl: ",n),1==n.success&&(this.comment="")}))})}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(c.gz),m.Y36(c.F0),m.Y36(m.R0b),m.Y36(s.s),m.Y36(u.b),m.Y36(r.n))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-communication-detail"]],decls:32,vars:18,consts:[["slot","start"],[1,"ion-padding"],["size-sm","12","size-md","8","size-lg","8","push-lg","2","push-md","2",1,"whiteCol","whit_Pad","whit_pad_top",3,"size"],["pager","true",3,"options"],[4,"ngFor","ngForOf"],[1,"titleDiv",3,"innerHTML"],[1,"contentDiv",3,"innerHTML"],["size-sm","5","size-md","5","size-lg","5",3,"size"],["name","thumbs-up-outline",3,"click",4,"ngIf"],["name","thumbs-up",3,"click",4,"ngIf"],["size-sm","7","size-md","7","size-lg","7",1,"ion-text-right",3,"size"],["name","chatbox-ellipses-outline"],[4,"ngIf"],[2,"background-color","#f2f4f5"],["size-sm","12","size-md","8","size-lg","8","push-lg","2","push-md","2",3,"size"],["size-sm","10","size-md","11","size-lg","11",3,"size"],["placeholder","Type Your Comment Here",3,"ngModel","ngModelChange"],["size-sm","2","size-md","1","size-lg","1","class","ion-text-center",3,"size",4,"ngIf"],["onerror","this.src='assets/watermark/watermark.png'","class","communicationImage",3,"src",4,"ngIf"],["width","100%","height","250px","controls","",3,"src","poster",4,"ngIf"],["width","100%","height","250px",3,"src",4,"ngIf"],["onerror","this.src='assets/watermark/watermark.png'",1,"communicationImage",3,"src"],["width","100%","height","250px","controls","",3,"src","poster"],["width","100%","height","250px",3,"src"],["name","thumbs-up-outline",3,"click"],["name","thumbs-up",3,"click"],[1,"colom"],["onerror","this.src='assets/watermark/watermark.png'",3,"src"],["size-sm","6","size-md","6","size-lg","6",3,"size"],["class","ion-text-right para-col para_color",4,"ngIf"],["class","ion-text-left para-col",4,"ngIf"],[1,"ion-text-right","para-col","para_color"],[1,"para-name"],[1,"para-time"],[1,"ion-no-margin",3,"innerHTML"],[1,"ion-text-left","para-col"],["size-sm","2","size-md","1","size-lg","1",1,"ion-text-center",3,"size"],["name","caret-forward-outline",1,"sendIcon",3,"click"]],template:function(n,t){1&n&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-title"),m._uU(3),m.qZA(),m.TgZ(4,"ion-buttons",0),m._UZ(5,"ion-back-button"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"ion-content",1),m.TgZ(7,"ion-row"),m.TgZ(8,"ion-col",2),m.TgZ(9,"ion-slides",3),m.YNc(10,f,4,3,"ion-slide",4),m.qZA(),m._UZ(11,"p",5),m._UZ(12,"p",6),m.TgZ(13,"ion-row"),m.TgZ(14,"ion-col",7),m.YNc(15,_,1,0,"ion-icon",8),m.YNc(16,x,1,0,"ion-icon",9),m._uU(17),m.qZA(),m.TgZ(18,"ion-col",10),m._UZ(19,"ion-icon",11),m._uU(20),m.qZA(),m.qZA(),m._UZ(21,"hr"),m.YNc(22,Z,4,2,"div",12),m.TgZ(23,"div"),m.YNc(24,w,5,4,"ion-row",4),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(25,"ion-footer",13),m.TgZ(26,"ion-row"),m.TgZ(27,"ion-col",14),m.TgZ(28,"ion-row"),m.TgZ(29,"ion-col",15),m.TgZ(30,"input",16),m.NdJ("ngModelChange",function(n){return t.comment=n}),m.qZA(),m.qZA(),m.YNc(31,T,2,1,"ion-col",17),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&n&&(m.xp6(3),m.Oqu(null==t.community?null:t.community.pageTitle),m.xp6(5),m.Q6J("size",12),m.xp6(1),m.Q6J("options",t.slideOpts),m.xp6(1),m.Q6J("ngForOf",null==t.community||null==t.community.data?null:t.community.data.media),m.xp6(1),m.Q6J("innerHTML",null==t.community||null==t.community.data?null:t.community.data.title,m.oJD),m.xp6(1),m.Q6J("innerHTML",null==t.community||null==t.community.data?null:t.community.data.description,m.oJD),m.xp6(2),m.Q6J("size",5),m.xp6(1),m.Q6J("ngIf",0==(null==t.community||null==t.community.data?null:t.community.data.like_status)),m.xp6(1),m.Q6J("ngIf",1==(null==t.community||null==t.community.data?null:t.community.data.like_status)),m.xp6(1),m.hij(" ",null==t.community||null==t.community.data?null:t.community.data.total_likes,"\xa0Likes "),m.xp6(1),m.Q6J("size",7),m.xp6(2),m.hij("\xa0",null==t.community||null==t.community.data?null:t.community.data.total_comments,"\xa0Comments "),m.xp6(2),m.Q6J("ngIf","0"==t.noComment),m.xp6(2),m.Q6J("ngForOf",null==t.community||null==t.community.data?null:t.community.data.comments),m.xp6(3),m.Q6J("size",12),m.xp6(2),m.Q6J("size",10),m.xp6(1),m.Q6J("ngModel",t.comment),m.xp6(1),m.Q6J("ngIf",""!=t.comment))},directives:[l.Gu,l.sr,l.wd,l.Sm,l.oU,l.cs,l.W2,l.Nd,l.wI,l.Hr,o.sg,o.O5,l.gu,l.fr,e.Fj,e.JJ,e.On,l.A$],pipes:[p.y],styles:[".communicationImage[_ngcontent-%COMP%]{width:100%;height:250px;-o-object-fit:contain;object-fit:contain}.titleDiv[_ngcontent-%COMP%]{font-size:16px;color:var(--headerColor);font-weight:700}.contentDiv[_ngcontent-%COMP%]{font-size:13px;color:#4a4747;line-height:15px}hr[_ngcontent-%COMP%]{width:100%!important;font-size:1em!important;border:.5px solid #dcdcdc}input[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px}.sendIcon[_ngcontent-%COMP%]{font-size:35px;background-color:var(--headerColor);color:#fff;border-radius:15px}.chat_container[_ngcontent-%COMP%]{flex-wrap:wrap;padding:20px 18px 0}.chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]{width:auto!important;margin-bottom:15px;min-width:70%;align-items:flex-start}.chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{min-width:90px;border-radius:7px;max-width:100%;min-width:191px;padding:11px 20px}.chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.7rem;font-weight:400;color:var(--text-color-white)}.para-name[_ngcontent-%COMP%]{color:var(--headerColor);font-size:14px;margin-bottom:0;margin-top:5px;line-height:4px}.para-time[_ngcontent-%COMP%]{font-size:10px;margin-bottom:5px;margin-top:10px;color:#a4a2a2;line-height:4px}.para-col[_ngcontent-%COMP%]{box-shadow:0 0 7px 2px #e4e0e0;border-radius:20px;height:100%;padding:5px}.para_color[_ngcontent-%COMP%]{background-color:#eaeaea}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),n})();var k=i(43018);let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[o.ez,e.u5,l.Pc,J,k.D]]}),n})()}}]);