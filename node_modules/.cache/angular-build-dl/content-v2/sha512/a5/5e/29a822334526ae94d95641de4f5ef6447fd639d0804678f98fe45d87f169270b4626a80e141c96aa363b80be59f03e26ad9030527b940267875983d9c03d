!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[690],{40690:function(n,t,i){"use strict";i.r(t),i.d(t,{GeolocationPageModule:function(){return T}});var r=i(38583),a=i(90665),c=i(47823),s=i(12234),u=i(64762),l=i(56544),g=i(88720),d=i(87152),f=i(83046),p=i(14303),h=i(51532);function Z(e,o){if(1&e&&(g.TgZ(0,"div"),g.TgZ(1,"ion-row"),g.TgZ(2,"ion-col"),g.TgZ(3,"p"),g._uU(4,"Your Location"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"ion-row"),g.TgZ(6,"ion-col",18),g._UZ(7,"ion-icon",19),g.qZA(),g.TgZ(8,"ion-col",20),g._uU(9),g.qZA(),g.qZA(),g.qZA()),2&e){var n=g.oxw();g.xp6(9),g.Oqu(n.loc)}}var m,v,q=function(e){return{"content-bg":e}},w=function(e){return{boundary1:e}},b=function(e){return{banner:e}},A=[{path:"",component:(m=function(){function n(o,t,i,r,a,c,s){e(this,n),this.zone=o,this.geolocation=t,this.route=i,this.platform=r,this.nativeGeocoder=a,this.apiService=c,this.sendData=s,this.profileAddCustomer=this.sendData.alldata,this.profileAddCustomer?(this.requestID=this.profileAddCustomer.requestFor,this.requestIDPage=this.profileAddCustomer.requestPage):(this.requestID="",this.requestIDPage=""),r.ready().then(function(){console.log("Width: "+r.width()),console.log("Height: "+r.height())})}var t,i,r;return t=n,(i=[{key:"ngOnInit",value:function(){}},{key:"getLocationFun",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.apiService.presentLoadingDefault(),this.zone.run(function(){return(0,u.mG)(o,void 0,void 0,regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loc="",console.log("curr_pos4"),e.next=3,this.geolocation.getCurrentPosition();case 3:o=e.sent,console.log("curr_pos",o.coords.latitude),console.log("curr_pos",o.coords.longitude),this.getGeoLocation(o.coords.latitude,o.coords.longitude);case 5:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"getGeoLocation",value:function(e,o,n){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i,r,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.apiService.presentLoadingClose(),!navigator.geolocation){t.next=11;break}return console.log("lat",e),console.log("lng",o),this.lat=e,this.lng=o,t.next=4,new google.maps.Geocoder;case 4:return i=t.sent,t.next=7,new google.maps.LatLng(e,o);case 7:return t.t0=t.sent,r={latLng:t.t0},t.next=11,i.geocode(r,function(e,o){if(console.log("main Array",e,o),o==google.maps.GeocoderStatus.OK){var t=e[0];a.userLocation=e[0],console.log("current Location",e[0]),console.log("loc: ",t.formatted_address),a.loc=t.formatted_address,a.zone.run(function(){null!=t&&(a.userCity=t.formatted_address,"reverseGeocode"===n&&(a.latLngResult=t.formatted_address))})}});case 11:case"end":return t.stop()}},t,this)}))}},{key:"reverseGeocode",value:function(e,o){var n=this;this.platform.is("cordova")?this.nativeGeocoder.reverseGeocode(e,o,{useLocale:!0,maxResults:5}).then(function(e){return n.userLocationFromLatLng=e[0]}).catch(function(e){return console.log(e)}):this.getGeoLocation(e,o,"reverseGeocode")}},{key:"forwardGeocode",value:function(e){var o=this;this.platform.is("cordova")?this.nativeGeocoder.forwardGeocode(e,{useLocale:!0,maxResults:5}).then(function(e){o.zone.run(function(){o.lat=e[0].latitude,o.lng=e[0].longitude})}).catch(function(e){return console.log(e)}):(new google.maps.Geocoder).geocode({address:e},function(e,n){n==google.maps.GeocoderStatus.OK?o.zone.run(function(){o.lat=e[0].geometry.location.lat(),o.lng=e[0].geometry.location.lng()}):alert("Error - "+e+" & Status - "+n)})}},{key:"next",value:function(){var e=this;this.zone.run(function(){e.apiService.apiCallWithLoginToken(l.n.geoLocationUrl,{latitude:e.lat,longitude:e.lng,location_dump:e.userLocation,request_for:e.requestID,request_page:e.requestIDPage}).subscribe(function(o){1==o.success?e.route.navigate(["/tabs"]):e.apiService.showToastMessage(o.message,"top",3e3,"redBg")},function(o){e.apiService.showToastMessage(JSON.stringify(o),"top",3e3,"redBg")})})}}])&&o(t.prototype,i),r&&o(t,r),n}(),m.\u0275fac=function(e){return new(e||m)(g.Y36(g.R0b),g.Y36(d.b),g.Y36(s.F0),g.Y36(c.t4),g.Y36(f.d),g.Y36(p.s),g.Y36(h.b))},m.\u0275cmp=g.Xpm({type:m,selectors:[["app-geolocation"]],decls:36,vars:11,consts:[[3,"ngClass"],[1,"ion-justify-content-center"],["size-xl","6","size-md","8","size-xs","12",3,"ngClass"],["src","assets/icon/logo.svg",2,"width","150px"],[1,"col"],["src","assets/icon/abc.png",2,"width","130px","text-align","right"],[1,"para"],[1,"dev"],["tappable","",3,"click"],[1,"geoBox"],["size","1",1,"autoMargin"],["name","locate-outline",1,"geoIcon"],["size","11",1,"autoMargin"],[1,"detect","ion-no-margin"],[4,"ngIf"],[1,"ion-text-center"],["tappable","",1,"ionic_btn",3,"disabled","click"],["src","assets/icon/Design 1.png",1,"banner_bg"],["size","1"],["name","location-outline"],["size","11"]],template:function(e,o){1&e&&(g.TgZ(0,"ion-content",0),g.TgZ(1,"ion-row",1),g.TgZ(2,"ion-col",2),g.TgZ(3,"ion-grid"),g.TgZ(4,"ion-row"),g.TgZ(5,"ion-col"),g._UZ(6,"img",3),g.qZA(),g.TgZ(7,"ion-col",4),g._UZ(8,"img",5),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"ion-row"),g.TgZ(10,"ion-col"),g.TgZ(11,"p",6),g.TgZ(12,"b"),g._uU(13,"Geo Location"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"ion-row"),g.TgZ(15,"ion-col"),g.TgZ(16,"p",7),g._uU(17,"Enable your device location "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"ion-row",8),g.NdJ("click",function(){return o.getLocationFun()}),g.TgZ(19,"ion-col"),g.TgZ(20,"ion-row",9),g.TgZ(21,"ion-col",10),g._UZ(22,"ion-icon",11),g.qZA(),g.TgZ(23,"ion-col",12),g.TgZ(24,"p",13),g._uU(25,"Detect my location"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(26,Z,10,1,"div",14),g._UZ(27,"br"),g._UZ(28,"br"),g._UZ(29,"br"),g.TgZ(30,"div",0),g.TgZ(31,"ion-row"),g.TgZ(32,"ion-col",15),g.TgZ(33,"ion-button",16),g.NdJ("click",function(){return o.next()}),g._uU(34,"Next"),g.qZA(),g.qZA(),g.qZA(),g._UZ(35,"img",17),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.Q6J("ngClass",g.VKq(5,q,o.platform.width()<740)),g.xp6(2),g.Q6J("ngClass",g.VKq(7,w,o.platform.width()>740)),g.xp6(24),g.Q6J("ngIf",o.loc),g.xp6(4),g.Q6J("ngClass",g.VKq(9,b,o.platform.width()<740)),g.xp6(3),g.Q6J("disabled",!o.loc))},directives:[c.W2,r.mk,c.Nd,c.wI,c.jY,c.gu,r.O5,c.YG],styles:[".col[_ngcontent-%COMP%]{text-align:end}.para[_ngcontent-%COMP%]{margin-bottom:0;font-size:24px}.geoBox[_ngcontent-%COMP%]{border:1px solid var(--headerColor)}.geoIcon[_ngcontent-%COMP%]{font-size:20px}.detect[_ngcontent-%COMP%], .geoIcon[_ngcontent-%COMP%], .para[_ngcontent-%COMP%]{color:var(--headerColor)}.dev[_ngcontent-%COMP%]{font-size:19px}.banner_bg[_ngcontent-%COMP%]{left:0;width:100%;display:block;border-radius:10px}.blank[_ngcontent-%COMP%]{width:100%;height:100px}"]}),m)}],_=function(){var o=function o(){e(this,o)};return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=g.oAB({type:o}),o.\u0275inj=g.cJS({imports:[[s.Bz.forChild(A)],s.Bz]}),o}(),T=((v=function o(){e(this,o)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=g.oAB({type:v}),v.\u0275inj=g.cJS({imports:[[r.ez,a.u5,c.Pc,_]]}),v)}}])}();