(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[4702],{58405:function(e,t,o){"use strict";o.r(t),o.d(t,{RegistrationPageModule:function(){return re}});var i=o(38583),n=o(90665),a=o(47823),l=o(12234),s=o(64762),r=o(39182),c=o(56544),p=o(88720),g=o(84267),u=o(20138),d=o(59865),h=o(51532),f=o(14303),m=o(97905),_=o(18345),y=o(39075);const w=["input"];function T(e,t){1&e&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",10),p._UZ(3,"ion-back-button"),p.qZA(),p.qZA(),p.qZA())}function x(e,t){if(1&e&&(p.TgZ(0,"ion-col",11),p.TgZ(1,"p",12),p._uU(2),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.Q6J("size",12),p.xp6(2),p.Oqu(null==e.formValue?null:e.formValue.title)}}function D(e,t){if(1&e&&(p.TgZ(0,"ion-col",13),p.TgZ(1,"p",14),p._uU(2),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.Q6J("size",12),p.xp6(2),p.Oqu(null==e.formValue?null:e.formValue.sub_title)}}function b(e,t){1&e&&(p.TgZ(0,"sup"),p._uU(1,"*"),p.qZA())}function Z(e,t){if(1&e&&(p.TgZ(0,"ion-label"),p._uU(1),p.YNc(2,b,2,0,"sup",0),p.qZA()),2&e){const e=p.oxw().$implicit;p.xp6(1),p.hij(" ",null==e?null:e.label," "),p.xp6(1),p.Q6J("ngIf",1==(null==e?null:e.is_mandatory))}}function q(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-input",25,26),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().$implicit.answer=t})("ngModelChange",function(){p.CHM(e);const t=p.oxw().$implicit;return p.oxw(2).checkInput(t,t.answer)}),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.s9C("id",null==e?null:e.id),p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.answer)}}function C(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-input",27,26),p.NdJ("ngModelChange",function(t){p.CHM(e);const o=p.oxw().$implicit;return o.showAns||(o.answer=t)})("ngModelChange",function(t){p.CHM(e);const o=p.oxw().$implicit;return p.oxw(2).checkInput(o,t)}),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.s9C("maxlength",e.min_value),p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.showAns||e.answer)}}function M(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-input",28,26),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().$implicit.answer=t})("ngModelChange",function(){p.CHM(e);const t=p.oxw().$implicit;return p.oxw(2).checkInput(t,t.answer)}),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.answer)}}function v(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-datetime",29),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().$implicit.answer=t}),p.qZA()}if(2&e){const e=p.oxw().$implicit,t=p.oxw(2);p.s9C("max",t.currentDate),p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.answer)}}function A(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"p",34),p.NdJ("click",function(){p.CHM(e);const t=p.oxw().$implicit,o=p.oxw(2).$implicit;return p.oxw(2).fillDelearName(t,o)}),p._uU(1),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.xp6(1),p.Oqu(null==e?null:e.dealer_code)}}function I(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"p",34),p.NdJ("click",function(){p.CHM(e);const t=p.oxw().$implicit,o=p.oxw(2).$implicit;return p.oxw(2).fillDelearName(t,o)}),p._uU(1),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.xp6(1),p.Oqu(null==e?null:e.full_name)}}function O(e,t){if(1&e&&(p.TgZ(0,"div",32),p.YNc(1,A,2,1,"p",33),p.YNc(2,I,2,1,"p",33),p.qZA()),2&e){const e=p.oxw(2).$implicit;p.xp6(1),p.Q6J("ngIf","dealer"==(null==e?null:e.request_type)),p.xp6(1),p.Q6J("ngIf","officer"==(null==e?null:e.request_type))}}function R(e,t){if(1&e&&(p.TgZ(0,"div",30),p.YNc(1,O,3,2,"div",31),p.qZA()),2&e){const e=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",e.searchData)}}function S(e,t){1&e&&(p.TgZ(0,"sup"),p._uU(1,"*"),p.qZA())}function J(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-item",40),p.NdJ("click",function(t){const o=p.CHM(e).$implicit,i=p.oxw(2).$implicit;return p.oxw(2).radioGroupChange(t,o,i)}),p._UZ(1,"ion-radio",41),p.TgZ(2,"ion-label"),p._uU(3),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,o=p.oxw(2).$implicit;p.Q6J("disabled",0==(null==o?null:o.is_editable)),p.xp6(1),p.s9C("name",null==e?null:e.label),p.Q6J("value",null==e?null:e.value),p.xp6(2),p.hij("\xa0",null==e?null:e.label," ")}}function N(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",44),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col"),p.TgZ(3,"ion-label",45),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"ion-row"),p.TgZ(6,"ion-col"),p.TgZ(7,"ion-button",46),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2).$implicit;return p.oxw(4).openSelectImageOpt(t)}),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2).$implicit;p.xp6(4),p.hij(" ",null==e?null:e.label," "),p.xp6(4),p.Oqu(null==e?null:e.btn_text)}}function F(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",49),p.TgZ(1,"ion-icon",50),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(3).$implicit;return p.oxw(4).removeImage(t)}),p.qZA(),p.qZA()}}function k(e,t){if(1&e&&(p.TgZ(0,"div"),p.YNc(1,F,2,0,"div",47),p._UZ(2,"img",48),p.qZA()),2&e){const e=p.oxw(2).$implicit,t=p.oxw(4);p.xp6(1),p.Q6J("ngIf","home"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"dealer"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"officer"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"account_detail"==(null==t.RegistrationType?null:t.RegistrationType.request_page)),p.xp6(1),p.Q6J("src",null==e?null:e.answer,p.LSH)}}function Y(e,t){if(1&e&&(p.TgZ(0,"div"),p.YNc(1,N,9,2,"div",43),p._UZ(2,"br"),p.YNc(3,k,3,2,"div",0),p.qZA()),2&e){const e=p.oxw().$implicit;p.xp6(1),p.Q6J("ngIf",""==(null==e?null:e.answer)),p.xp6(2),p.Q6J("ngIf",""!=(null==e?null:e.answer))}}function P(e,t){1&e&&(p.TgZ(0,"sup"),p._uU(1,"*"),p.qZA())}function Q(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"ion-item"),p.TgZ(2,"ion-label",51),p._uU(3),p.YNc(4,P,2,0,"sup",0),p.qZA(),p.TgZ(5,"ion-datetime",52),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().$implicit.answer=t}),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.xp6(3),p.Oqu(null==e?null:e.label),p.xp6(1),p.Q6J("ngIf",1==(null==e?null:e.isMandatory)),p.xp6(1),p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.answer)}}function U(e,t){if(1&e&&(p.TgZ(0,"ion-col",42),p.YNc(1,Y,4,2,"div",0),p.YNc(2,Q,6,5,"div",0),p.qZA()),2&e){const e=t.$implicit;p.xp6(1),p.Q6J("ngIf","image"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","dob"==(null==e?null:e.type))}}function z(e,t){if(1&e&&(p.TgZ(0,"ion-list"),p.TgZ(1,"ion-radio-group",35),p.TgZ(2,"ion-list-header"),p.TgZ(3,"ion-label",36),p._uU(4),p.YNc(5,S,2,0,"sup",0),p.qZA(),p.qZA(),p.YNc(6,J,4,4,"ion-item",37),p.qZA(),p.TgZ(7,"ion-row",38),p.YNc(8,U,3,2,"ion-col",39),p.qZA(),p.qZA()),2&e){const e=p.oxw().$implicit;p.xp6(1),p.Q6J("value",null==e?null:e.answer),p.xp6(3),p.hij(" ",null==e?null:e.label," "),p.xp6(1),p.Q6J("ngIf",1==(null==e?null:e.is_mandatory)),p.xp6(1),p.Q6J("ngForOf",null==e?null:e.option),p.xp6(2),p.Q6J("ngForOf",null==e?null:e.imgArr)}}function $(e,t){if(1&e&&(p.TgZ(0,"ion-select-option",35),p._uU(1),p.qZA()),2&e){const e=t.$implicit;p.s9C("value",e.auto_id),p.xp6(1),p.hij("",e.label," ")}}function H(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-item",53),p.TgZ(1,"ion-select",54),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().$implicit.answer=t})("ionChange",function(t){p.CHM(e);const o=p.oxw().$implicit;return p.oxw(2).checkValue(t,o)}),p.YNc(2,$,2,2,"ion-select-option",55),p.qZA(),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.xp6(1),p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.answer),p.xp6(1),p.Q6J("ngForOf",null==e?null:e.option)}}function j(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-input",58,26),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().$implicit.answer=t})("ngModelChange",function(){p.CHM(e);const t=p.oxw().$implicit;return p.oxw(4).checkInput(t,t.answer)}),p.qZA()}if(2&e){const e=p.oxw().$implicit;p.s9C("placeholder",null==e?null:e.placeholder),p.Q6J("disabled",0==(null==e?null:e.is_editable))("ngModel",e.answer)}}function B(e,t){if(1&e&&(p.TgZ(0,"ion-col"),p.YNc(1,j,2,3,"ion-input",57),p.qZA()),2&e){const e=t.$implicit;p.xp6(1),p.Q6J("ngIf","text"==(null==e?null:e.type))}}function L(e,t){if(1&e&&(p.TgZ(0,"ion-row"),p.YNc(1,B,2,1,"ion-col",56),p.qZA()),2&e){const e=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",null==e.SubOptionData?null:e.SubOptionData.sub_option)}}function E(e,t){if(1&e&&(p.TgZ(0,"ion-col",18),p.YNc(1,Z,3,2,"ion-label",0),p.YNc(2,q,2,4,"ion-input",19),p.YNc(3,C,2,4,"ion-input",20),p.YNc(4,M,2,3,"ion-input",21),p.YNc(5,v,1,4,"ion-datetime",22),p.YNc(6,R,2,1,"div",23),p.YNc(7,z,9,5,"ion-list",0),p.YNc(8,H,3,4,"ion-item",24),p.YNc(9,L,2,1,"ion-row",0),p.qZA()),2&e){const e=t.$implicit,o=p.oxw(2);p.xp6(1),p.Q6J("ngIf","radio"!=(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","text"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","number"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","email"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","dob"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf",1==o.showDelearList&&"text"==(null==e?null:e.type)&&1==(null==e?null:e.call_api)&&("dealer"==(null==e?null:e.request_type)||"officer"==(null==e?null:e.request_type))),p.xp6(1),p.Q6J("ngIf","radio"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","select"==(null==e?null:e.type)),p.xp6(1),p.Q6J("ngIf","select"==(null==e?null:e.type)&&1==o.showOther)}}function V(e,t){if(1&e&&(p.TgZ(0,"div",15),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col"),p.TgZ(3,"p",16),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"ion-row"),p.YNc(6,E,10,9,"ion-col",17),p.qZA(),p.qZA()),2&e){const e=t.$implicit;p.xp6(4),p.Oqu(null==e?null:e.category_name),p.xp6(2),p.Q6J("ngForOf",null==e?null:e.data)}}function G(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-col"),p.TgZ(1,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).back()}),p._uU(2,"Back"),p.qZA(),p.qZA()}}function W(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-col"),p.TgZ(1,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).submitFunCall("skip")}),p._uU(2,"skip"),p.qZA(),p.qZA()}}function K(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-col"),p.TgZ(1,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).Submit("save")}),p._uU(2,"Save"),p.qZA(),p.qZA()}}function X(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(3).profileView("rejected")}),p._uU(1,"Reject"),p.qZA()}}function ee(e,t){if(1&e&&(p.TgZ(0,"ion-col"),p.YNc(1,X,2,0,"ion-button",60),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Q6J("ngIf","active_customer"!=(null==e.RegistrationType?null:e.RegistrationType.request_page))}}function te(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-col"),p.TgZ(1,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).profileView("block")}),p._uU(2,"Block"),p.qZA(),p.qZA()}}function oe(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-col"),p.TgZ(1,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).profileView("approve")}),p._uU(2,"Approve"),p.qZA(),p.qZA()}}function ie(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-col"),p.TgZ(1,"ion-button",59),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).profileView("approve")}),p._uU(2,"Activate"),p.qZA(),p.qZA()}}function ne(e,t){if(1&e&&(p.TgZ(0,"ion-row"),p.YNc(1,G,3,0,"ion-col",0),p.YNc(2,W,3,0,"ion-col",0),p.YNc(3,K,3,0,"ion-col",0),p.YNc(4,ee,2,1,"ion-col",0),p.YNc(5,te,3,0,"ion-col",0),p.YNc(6,oe,3,0,"ion-col",0),p.YNc(7,ie,3,0,"ion-col",0),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf","home"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"dealer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"account_detail"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"officer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)),p.xp6(1),p.Q6J("ngIf","login"==e.LoginStoredType&&"dealer"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)&&"officer"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)&&"account_detail"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)&&"pending_customer"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)&&"active_customer"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)&&"block_customer"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)&&"rejected_customer"!=e.RegistrationType.request_page&&"home"!=(null==e.RegistrationType?null:e.RegistrationType.request_page)),p.xp6(1),p.Q6J("ngIf","home"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"dealer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"account_detail"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"officer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)),p.xp6(1),p.Q6J("ngIf","pending_customer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)),p.xp6(1),p.Q6J("ngIf","active_customer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)),p.xp6(1),p.Q6J("ngIf","pending_customer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)||"rejected_customer"==(null==e.RegistrationType?null:e.RegistrationType.request_page)),p.xp6(1),p.Q6J("ngIf","block_customer"==(null==e.RegistrationType?null:e.RegistrationType.request_page))}}const ae=function(e){return{"content-bg":e}},le=[{path:"",component:(()=>{class e{constructor(e,t,o,i,n,a,l,s,r,c,p,g,u,d,h){this.camera=e,this.actionSheetController=t,this.file=o,this.route=i,this.platform=n,this.filePath=a,this.modalCtrl=l,this.sendData=s,this.toastController=r,this.apiService=c,this.transfer=p,this.zone=g,this.localStorage=u,this.storage=d,this.sanitizer=h,this.win=window,this.currentDate=(new Date).toISOString(),this.files=[],this.croppedImagePath="",this.showOther=0,this.codeData=[],this.codeData1=[],this.codeData2=[],this.codeData3=[],this.codeData4=[],this.isLoading=!1,this.formData=[],this.imagePickerOptions={maximumImagesCount:1,quality:50},this.showImgOption=!1,this.SubOptionData=[],this.showDelearList=!1,this.emptyFieldFound=0,this.onetime=0}removeImage(e){e.answer="",console.log("arr",e)}compareFn(e,t){if(console.log("==> e1",e),console.log("==> e2",t),t&&null!=t&&null!=t)return e&&t?e.auto_id==t:e==t}ionViewWillEnter(){setTimeout(()=>{this.RegistrationType=this.sendData.registrationType,"back"==this.RegistrationType.frompage&&(this.reId=this.sendData.alldata,this.ngOnInit())},1e3)}ngOnInit(){console.log("currentDate ",this.currentDate),this.RegistrationType=this.sendData.registrationType,console.log("1",this.RegistrationType),this.reId="dealer"==this.RegistrationType.request_page||"officer"==this.RegistrationType.request_page||"account_detail"==this.RegistrationType.request_page||"pending_customer"==this.RegistrationType.request_page||"active_customer"==this.RegistrationType.request_page||"block_customer"==this.RegistrationType.request_page||"rejected_customer"==this.RegistrationType.request_page?this.sendData.alldata:"",this.localStorage.getStorage().then(e=>{this.LoginStoredType=e.type,console.log("this.LoginStoredType",this.LoginStoredType)}),this.registaionForm(),console.log("RegistrationType",this.RegistrationType)}checkInput(e,t){let o=t;console.log("checkInput data==> ",e),console.log("checkInput searchString==> ",o),console.log("ev==> ",t),1==e.call_api&&(o.toString().length>=e.min_value?(console.log("checkInput searchData0==",o),this.searchApiCall(e,o,0)):(console.log("checkInput searchData1==",o),this.searchData=[]))}back(){this.zone.run(()=>{"account_detail"==this.RegistrationType.request_page||"officer"==this.RegistrationType.request_page?this.route.navigate(["/tabs/home"]):"dealer"==this.RegistrationType.request_page?this.route.navigate(["/tabs/customer-allocation"]):(this.storage.remove("allStoreData"),this.apiService.generateDeviceId(),this.apiService.generateFCMToken(),this.maintance())})}maintance(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.localStorage.getStorage().then(e=>{console.log("localStorage storedData storedData000",e)}),this.zone.run(()=>{this.apiService.apiCallWithLoginToken(c.n.maintanceUrl,{}).subscribe(e=>(0,s.mG)(this,void 0,void 0,function*(){1==e.success||"1"==e.success?(this.maintanceData=e,yield this.localStorage.setStorage("maintainanceData",e),yield this.localStorage.getStorage().then(e=>{console.log("localStorage storedData storedData",e),e&&null!=e.allStoreData?(console.log("localStorage storedData",e),this.route.navigateByUrl("tabs")):(console.log("localStorage storedData maintance",e),this.maintanceData=e.maintainanceData,this.route.navigate(["/login"]))}),1!=e.data.is_down&&"1"!=e.data.is_down||(this.sendData.myParam=e.maintainence_data,this.route.navigate(["/maintenance"]))):this.apiService.showToastMessage(e.message,"top",3e3,"redBg")}),e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})})})}fillDelearName(e,t){console.log("checkInput selected delearData==",e),console.log("checkInput selected data==",t),this.zone.run(()=>{this.showDelearList=!1,0==this.showDelearList&&("dealer"==t.request_type?(t.answer=e.dealer_code,t.new_answer=e.auto_id,console.log(" data.new_answe",t.new_answer)):(t.answer=e.full_name,t.new_answer=e.auto_id,console.log(" data.new_answe",t.new_answer)))})}searchApiCall_pincode(e,t,o){this.zone.run(()=>{let o={search_str:t,request_type:e.request_type};console.log("searchApiCall_pincode",o.search_str.toString().length),this.apiService.apiCallWithLoginToken(e.api_url.trim(),o).subscribe(e=>{if(1==e.success){this.showDelearList=!0,this.searchData=e.data,console.log("searchApiCall_pincode this.searchData==> ",this.searchData),console.log("searchApiCall_pincode this.formData==> ",this.formData);for(let e=0;e<this.formData.length;e++)for(let t=0;t<this.formData[e].data.length;t++){if(console.log("searchApiCall_pincode pin type",this.formData[e].data[t].id),"pin_code"==this.formData[e].data[t].id){let o=this.searchData.findIndex(o=>o.pin_code===this.formData[e].data[t].answer);console.log("searchApiCall_pincode pin code index ==>",o),o>=0&&(console.log("searchApiCall_pincode searchData ==>",this.searchData[o]),this.pin_autoid=this.searchData[o].auto_id,console.log("searchApiCall_pincode pin_autoid ==>",this.pin_autoid))}if("dealer_code"==this.formData[e].data[t].id){this.showDelearList=!1;let o=this.searchData.findIndex(o=>o.dealer_code===this.formData[e].data[t].answer);console.log("searchApiCall_pincode pin code index ==>",o),o>=0&&(console.log("searchApiCall_pincode searchData ==>",this.searchData[o]),this.dealer_autoid=this.searchData[o].auto_id,console.log("searchApiCall_pincode pin_autoid ==>",this.pin_autoid))}}}else this.showDelearList=!1,this.searchData=[],this.apiService.showToastMessage(e.message,"top",3e3,"redBg")},e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})})}searchApiCall(e,t,o){console.log("1122==> ",e),console.log("11==> ",JSON.stringify(e.field_api_key)),console.log("array==> ",this.formData),this.zone.run(()=>{let i={search_str:t,request_type:e.request_type};console.log("lengthBABA",i.search_str.toString().length),this.apiService.apiCallWithLoginToken(e.api_url.trim(),i).subscribe(e=>{1==e.success?(this.showDelearList=!0,this.searchData=e.data,console.log("this.searchData==> ",this.searchData),console.log("this.formData==> ",this.formData),this.zone.run(()=>{for(let t=0;t<this.searchData.length;t++)for(var e in this.searchData[t]){console.log("property",e);for(let i=0;i<this.formData.length;i++)for(let n=0;n<this.formData[i].data.length;n++)console.log("shi pro==> ",e),console.log("this.formData[j].data[k].id",this.formData[i].data[n].id),this.formData[i].data[n].id==e&&"auto_id"!=e&&"pin_code"!=e&&(console.log("shi pro val==> ",this.searchData[t][e]),"dealer_code"!=this.formData[i].data[n].id&&0==o&&(this.formData[i].data[n].answer=this.searchData[t][e]),"dealer_code"==this.formData[i].data[n].id&&1==o&&(this.formData[i].data[n].answer=this.searchData[t][e])),"pin_code"==this.formData[i].data[n].id&&"pin_code"==e&&(console.log("pincode 000000000000 ",this.searchData[t][e]),this.pin_autoid=this.searchData[t].auto_id,console.log("pincode ",this.searchData[t][e])),"dealer_code"==this.formData[i].data[n].id&&"dealer_code"==e&&(console.log("finalArray0==",this.formData),console.log("finalArray000==",this.formData[i].data[n].id),console.log("finalArray1==",this.searchData),console.log("finalArray2==",this.searchData[t].auto_id),this.dealer_autoid=this.searchData[t].auto_id,console.log("finalArray3==",this.formData))}})):(this.showDelearList=!1,this.searchData=[],this.apiService.showToastMessage(e.message,"top",3e3,"redBg"))},e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})})}radioGroupChange(e,t,o){console.log("ev==>",e),console.log("obj==>",t),console.log("data==>",o),o.answer=t.value,o.imgArr="1"==o.is_sub_option?t.sub_option:[]}checkValue(e,t){console.log("select opt value==> ",e.target.value),t.answer=e.target.value;var o=t.option.findIndex(e=>e.auto_id==t.answer);o>=0&&"Other"==t.option[o].type_name?(this.showOther=t.option[o].is_sub_option,this.SubOptionData=t.option[o],console.log("select opt showOther==> ",this.SubOptionData)):(this.showOther=0,this.SubOptionData=[]),console.log("update select opt data==> ",t)}pickImage(e){return(0,s.mG)(this,void 0,void 0,function*(){this.camera.getPicture({quality:40,cameraDirection:1,correctOrientation:!0,destinationType:this.camera.DestinationType.FILE_URI,sourceType:e,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(e=>{console.log("imagePath==",e),this.currentName=e;let t=this.currentName.split("/");if(this.fileName=t[t.length-1],this.platform.is("ios")){let t=this.sanitizer.bypassSecurityTrustResourceUrl(this.win.Ionic.WebView.convertFileSrc(e));console.log("ios imagePath==",t),this.previewImagePath=t,console.log("ios previewImagePath==",this.previewImagePath)}else this.previewImagePath=this.win.Ionic.WebView.convertFileSrc(e);this.uploadImageonserver()},e=>{console.log("imagePath error==",e)})})}uploadImageonserver(){this.localStorage.getStorage().then(e=>{var t=c.n.baseUrl+c.n.imageUploadUrl;console.log("url",t),(new Headers).append("Content-Type","application/json");var o=this.currentName;let i={fileKey:"file",fileName:this.fileName,chunkedMode:!1,mimeType:"multipart/form-data",params:{file:o,client_id:c.q.clientId,device:this.apiService.device,device_id:e.deviceId,app_version:c.q.app_version,employee_id:e.allStoreData.user_id,user_type:e.allStoreData.employee_type,media_type:"1",flag_type:this.currentObj.flag_type,request_for:this.reId,request_page:this.RegistrationType.request_page}};console.log("options",i),console.log("passing key==",JSON.stringify(i)),this.transfer.create().upload(o,t,i).then(e=>{console.log("server res==",e);let t=JSON.parse(e.response);console.log("response==",e),console.log("response22==",t),1==t.success||console.log("message key==",t.message)},e=>{console.log("err==",e)})})}selectImage(e){return(0,s.mG)(this,void 0,void 0,function*(){console.log("selectImage cordova"),this.currentObj=e;const t=yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>{this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY)}},{text:"Use Camera",handler:()=>{this.pickImage(this.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]});yield t.present()})}Submit(e){return(0,s.mG)(this,void 0,void 0,function*(){this.emptyFieldFound=0,console.log("this.pin_autoid",this.pin_autoid),console.log("field full==> ",this.formData);for(let t=0;t<this.formData.length;t++){for(let e=0;e<this.formData[t].data.length;e++)if(1==this.formData[t].data[e].is_mandatory&&""==this.formData[t].data[e].answer&&(this.emptyFieldFound=1,console.log("field==> ",this.formData[t].data[e]),console.log("field==> ",this.formData[t].data[e].answer)),1==this.formData[t].data[e].is_sub_option){let o=this.formData[t].data[e].option.findIndex(o=>o.value==this.formData[t].data[e].answer);if(console.log("field1 yoyo index==> ",o),console.log("field1 yoyo==> ",this.formData[t].data[e].option[o]),o>=0){if(1==this.formData[t].data[e].option[o].is_mandatory&&(this.emptyFieldFound=1,console.log("field1==> ",this.formData[t].data[e].option[o]),console.log("field1==> ",this.formData[t].data[e].option[o].answer)),1==this.formData[t].data[e].option[o].is_sub_option)for(let i=0;i<this.formData[t].data[e].option[o].sub_option.length;i++)1==this.formData[t].data[e].option[o].sub_option[i].isMandatory&&""==this.formData[t].data[e].option[o].sub_option[i].answer&&(this.emptyFieldFound=1,console.log("field2==> ",this.formData[t].data[e].option[o].sub_option[i]),console.log("field2==> ",this.formData[t].data[e].option[o].sub_option[i].answer))}else for(let i=0;i<this.formData[t].data[e].option.length;i++)if(1==this.formData[t].data[e].option[i].is_mandatory&&(this.emptyFieldFound=1,console.log("field else1==> ",this.formData[t].data[e].option[i]),console.log("field else11==> ",this.formData[t].data[e].option[i].answer)),1==this.formData[t].data[e].option[i].is_sub_option)for(let o=0;o<this.formData[t].data[e].option[i].sub_option.length;o++)1==this.formData[t].data[e].option[i].sub_option[o].isMandatory&&""==this.formData[t].data[e].option[i].sub_option[o].answer&&(this.emptyFieldFound=1,console.log("field else12==> ",this.formData[t].data[e].option[i].sub_option[o]),console.log("field else12==> ",this.formData[t].data[e].option[i].sub_option[o].answer))}if(t==this.formData.length-1){if(console.log("this.emptyFieldFound==> ",this.emptyFieldFound),1==this.emptyFieldFound||this.searchData==[])return void this.apiService.showToastMessage("Please fill all mandatory fields","top",3e3,"redBg");for(let e=0;e<this.formData.length;e++)for(let t=0;t<this.formData[e].data.length;t++)"pin_code"==this.formData[e].data[t].id?this.formData[e].data[t].answer=this.pin_autoid:"dealer_code"==this.formData[e].data[t].id&&(console.log("this.dealer_autoid",this.dealer_autoid),this.formData[e].data[t].answer="false"==this.formData[e].data[t].is_editable||0==this.formData[e].data[t].is_editable?this.formData[e].data[t].auto_dealer_id:this.dealer_autoid);this.submitFunCall(e)}}})}submitFunCall(e){this.zone.run(()=>{let t={save_data:this.formData,request_for:this.reId,request_page:this.RegistrationType.request_page,save_type:e};console.log("login data response",t),this.apiService.apiCallWithLoginToken(c.n.registrationFormSubmitUrl,t).subscribe(e=>{console.log("logout data response",e),1==e.success?("dealer"==e.request_page?(this.sendData.alldata={requestFor:this.reId,requestPage:e.request_page},this.route.navigate(["/profile-upload"])):this.route.navigate(["/tabs"]),this.apiService.showToastMessage(e.message,"top",3e3,"greenBg")):this.apiService.showToastMessage(e.message,"top",3e3,"redBg")},e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})})}openSelectImageOpt(e){return(0,s.mG)(this,void 0,void 0,function*(){if(console.log("selectImage browser"),this.currentObj=e,0==this.showImgOption){this.showImgOption=!0;let t={nulldata:"blank",flag:e.flag_type};const o=yield this.modalCtrl.create({component:r.b,componentProps:{data:t},cssClass:"my-custom-class"});return o.onDidDismiss().then(e=>{null!==e?(this.dataReturned=e.data.data,console.log(" this.dataReturned:",this.dataReturned),this.currentObj.answer=this.dataReturned.filebaseUrl,null==this.currentObj.answer&&(this.currentObj.answer=""),console.log("data:",this.currentObj.answer)):this.currentObj.answer=""}),yield o.present()}this.showImgOption=!1})}captureImg(e){}registaionForm(){this.zone.run(()=>{this.apiService.apiCallWithLoginToken(c.n.registrationFormUrl,{request_page:this.RegistrationType.request_page,request_for:this.reId}).subscribe(e=>{if(1==e.success){this.formValue=e,this.formData=e.data,console.log("this.formValue==> ",this.formValue),console.log("this.formData==> ",this.formData);for(let e=0;e<this.formData.length;e++)for(let t=0;t<this.formData[e].data.length;t++){if("radio"==this.formData[e].data[t].type)for(let o=0;o<this.formData[e].data[t].option.length;o++)this.formData[e].data[t].answer==this.formData[e].data[t].option[o].value&&1==this.formData[e].data[t].option[o].is_sub_option&&(this.formData[e].data[t].imgArr=this.formData[e].data[t].option[o].sub_option);"pin_code"==this.formData[e].data[t].id&&""!=this.formData[e].data[t].answer&&this.searchApiCall_pincode(this.formData[e].data[t],this.formData[e].data[t].answer,1),"dealer_code"==this.formData[e].data[t].id&&""!=this.formData[e].data[t].answer&&this.searchApiCall_pincode(this.formData[e].data[t],this.formData[e].data[t].answer,1)}}else this.apiService.showToastMessage(e.message,"top",3e3,"redBg")},e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})})}profileView(e){this.zone.run(()=>{this.apiService.apiCallWithLoginToken(c.n.UpdateRegistrationUrl,{request_for:this.reId,request_status:e}).subscribe(e=>{console.log("UpdateRegistrationUrl : ",e),1==e.success?(this.apiService.showToastMessage(e.message,"top",3e3,"greenBg"),this.route.navigate(["./customer-reg"])):this.apiService.showToastMessage(e.message,"top",3e3,"redBg")},e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg")})})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.V1),p.Y36(a.BX),p.Y36(u.$),p.Y36(l.F0),p.Y36(a.t4),p.Y36(d.y),p.Y36(a.IN),p.Y36(h.b),p.Y36(a.yF),p.Y36(f.s),p.Y36(m.K),p.Y36(p.R0b),p.Y36(_.n),p.Y36(_.n),p.Y36(y.H7))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-registration"]],viewQuery:function(e,t){if(1&e&&p.Gf(w,5),2&e){let e;p.iGM(e=p.CRH())&&(t.inputElement=e.first)}},decls:16,vars:8,consts:[[4,"ngIf"],[3,"ngClass"],[1,"ion-justify-content-center"],["size-xl","6","size-md","6","size-xs","12",1,"boundary1"],["src","assets/icon/Bandhan Logo.png",1,"small_p"],[1,"col","ion-text-end"],["src","assets/icon/abc.png",1,"small"],[3,"size",4,"ngIf"],["class","head",3,"size",4,"ngIf"],["class","custom_container",4,"ngFor","ngForOf"],["slot","start"],[3,"size"],[1,"para","ion-text-center"],[1,"head",3,"size"],[1,"para2","ion-no-margin","ion-text-center"],[1,"custom_container"],[1,"categoryName"],["class","colu","size-xl","6","size-md","6","size-xs","12",4,"ngFor","ngForOf"],["size-xl","6","size-md","6","size-xs","12",1,"colu"],["type","text",3,"id","disabled","placeholder","ngModel","ngModelChange",4,"ngIf"],["type","tel",3,"disabled","maxlength","placeholder","ngModel","ngModelChange",4,"ngIf"],["type","email",3,"disabled","placeholder","ngModel","ngModelChange",4,"ngIf"],["class","dateDiv","displayFormat","MMM DD YYYY",3,"disabled","max","placeholder","ngModel","ngModelChange",4,"ngIf"],["class","themeCard delearList",4,"ngIf"],["class","w100",4,"ngIf"],["type","text",3,"id","disabled","placeholder","ngModel","ngModelChange"],["input",""],["type","tel",3,"disabled","maxlength","placeholder","ngModel","ngModelChange"],["type","email",3,"disabled","placeholder","ngModel","ngModelChange"],["displayFormat","MMM DD YYYY",1,"dateDiv",3,"disabled","max","placeholder","ngModel","ngModelChange"],[1,"themeCard","delearList"],["class","delearText",4,"ngFor","ngForOf"],[1,"delearText"],["tappable","",3,"click",4,"ngIf"],["tappable","",3,"click"],[3,"value"],[1,"radioType"],["lines","none",3,"disabled","click",4,"ngFor","ngForOf"],[1,"ion-align-items-center"],["class","ion-text-center ion-padding","size-xl","12","size-md","12","size-xs","12",4,"ngFor","ngForOf"],["lines","none",3,"disabled","click"],[3,"value","name"],["size-xl","12","size-md","12","size-xs","12",1,"ion-text-center","ion-padding"],["class","card",4,"ngIf"],[1,"card"],[2,"font-size","14px"],[1,"ionic_btn","butt1",3,"click"],["class","clsoeIcon",4,"ngIf"],[1,"card1",3,"src"],[1,"clsoeIcon"],["name","close",3,"click"],["position","stacked"],["displayFormat","MMM DD YYYY",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"w100"],["interface","popover",1,"w100",3,"disabled","ngModel","placeholder","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange",4,"ngIf"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange"],["tappable","",1,"ionic_btn",3,"click"],["class","ionic_btn","tappable","",3,"click",4,"ngIf"]],template:function(e,t){1&e&&(p.YNc(0,T,4,0,"ion-header",0),p.TgZ(1,"ion-content",1),p.TgZ(2,"ion-row",2),p.TgZ(3,"ion-col",3),p.TgZ(4,"ion-grid"),p.TgZ(5,"ion-row"),p.TgZ(6,"ion-col"),p._UZ(7,"img",4),p.qZA(),p.TgZ(8,"ion-col",5),p._UZ(9,"img",6),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"ion-row"),p.YNc(11,x,3,2,"ion-col",7),p.YNc(12,D,3,2,"ion-col",8),p.qZA(),p.YNc(13,V,7,2,"div",9),p._UZ(14,"br"),p.YNc(15,ne,8,7,"ion-row",0),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("ngIf","account_detail"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"pending_customer"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"active_customer"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"block_customer"==(null==t.RegistrationType?null:t.RegistrationType.request_page)||"rejected_customer"==t.RegistrationType.request_page),p.xp6(1),p.Q6J("ngClass",p.VKq(6,ae,(null==t.platform?null:t.platform.width())<740)),p.xp6(10),p.Q6J("ngIf",null==t.formValue?null:t.formValue.title),p.xp6(1),p.Q6J("ngIf",null==t.formValue?null:t.formValue.sub_title),p.xp6(1),p.Q6J("ngForOf",t.formData),p.xp6(2),p.Q6J("ngIf",t.formData&&(null==t.formData?null:t.formData.length)>=1))},directives:[i.O5,a.W2,i.mk,a.Nd,a.wI,a.jY,i.sg,a.Gu,a.sr,a.Sm,a.oU,a.cs,a.Q$,a.pK,a.j9,n.JJ,n.On,n.nD,a.x4,a.QI,a.q_,a.se,a.yh,a.Ie,a.B7,a.U5,a.YG,a.gu,a.t9,a.n0],styles:[".para[_ngcontent-%COMP%]{color:var(--headerColor)}.head[_ngcontent-%COMP%]{background-color:var(--reedeemColor)}.para2[_ngcontent-%COMP%]{font-size:15px}.dateDiv[_ngcontent-%COMP%]{padding:10px 0 0}.dateDiv[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{border-bottom:1px solid rgba(84,83,83,.6)!important;font-size:.9rem!important;font-weight:500!important;--padding-bottom:2px!important}ion-input[_ngcontent-%COMP%]{color:var(--text-light2)}.boundary[_ngcontent-%COMP%]{box-shadow:1px 1px 1px 2px #efeaea;padding:0;--background:#fff}.colu[_ngcontent-%COMP%]{padding:15px}.colum[_ngcontent-%COMP%]{padding:13px 80px 0}.card[_ngcontent-%COMP%], .card1[_ngcontent-%COMP%]{height:108px;border:dotted;border-color:#d3d3d3}.card1[_ngcontent-%COMP%]{width:75%}.ionic_btn[_ngcontent-%COMP%]{display:block;margin:auto;text-transform:none;--border-radius:20px;width:122px;font-size:13px;--background:#b01d22;height:32px}ion-list[_ngcontent-%COMP%]{padding:0}.radioType[_ngcontent-%COMP%]{font-size:17px}.butt1[_ngcontent-%COMP%]{padding-top:8px}.image-upload[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.rdio[_ngcontent-%COMP%]{padding:0}ion-list[_ngcontent-%COMP%]{margin-top:-14px;margin-left:-14px}.categoryName[_ngcontent-%COMP%]{font-size:18px;font-weight:700}ion-select[_ngcontent-%COMP%]{width:100%;justify-content:center}ion-select[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]   .select-icon-inner[_ngcontent-%COMP%]{color:red!important;opacity:1!important}sup[_ngcontent-%COMP%]{font-size:15px;color:var(-headerColor);font-weight:700;color:var(--headerColor);top:-2px!important}.clsoeIcon[_ngcontent-%COMP%]{text-align:end;position:absolute;right:40px;top:4px;left:5px;font-size:24px;bottom:0}ion-input[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{color:#000}ion-select[_ngcontent-%COMP%]{color:#000;--background:#fff}ion-datetime[_ngcontent-%COMP%]{color:#000}.small[_ngcontent-%COMP%]{height:50px;text-align:right}.small[_ngcontent-%COMP%], .small_p[_ngcontent-%COMP%]{width:100px}"]}),e})()}];let se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[l.Bz.forChild(le)],l.Bz]}),e})(),re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[i.ez,n.u5,a.Pc,se]]}),e})()}}]);