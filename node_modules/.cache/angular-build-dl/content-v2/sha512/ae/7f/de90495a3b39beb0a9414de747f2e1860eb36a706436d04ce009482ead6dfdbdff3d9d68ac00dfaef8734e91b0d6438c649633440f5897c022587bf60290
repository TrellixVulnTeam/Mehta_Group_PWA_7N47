!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[6282],{66282:function(a,n,i){"use strict";i.r(n),i.d(n,{PointsgiftlistPageModule:function(){return D}});var o=i(38583),r=i(90665),s=i(47823),l=i(12234),c=i(64762),d=i(56544),u=i(61131),p=i(88720),g=i(51532),h=i(14303);function f(e,t){if(1&e){var a=p.EpF();p.TgZ(0,"div",9),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col",10),p._UZ(3,"img",11),p.qZA(),p.TgZ(4,"ion-col",12),p.TgZ(5,"p",13),p._uU(6),p.qZA(),p.TgZ(7,"p",14),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"ion-col",15),p.TgZ(10,"div",16),p.TgZ(11,"p"),p._uU(12),p.qZA(),p.qZA(),p.TgZ(13,"div",17),p.NdJ("click",function(){return p.CHM(a),p.oxw().purchaseDetails()}),p.TgZ(14,"p"),p._uU(15),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Q6J("size",2),p.xp6(1),p.Q6J("src",null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.coin_icon,p.LSH),p.xp6(1),p.Q6J("size",6),p.xp6(2),p.Oqu(null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.bal_text),p.xp6(2),p.Oqu(null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.user_balance),p.xp6(1),p.Q6J("size",4),p.xp6(3),p.Oqu(null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.slab_text),p.xp6(3),p.Oqu(null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.history_text)}}function m(e,t){if(1&e){var a=p.EpF();p.TgZ(0,"ion-row"),p.TgZ(1,"ion-col",18),p.TgZ(2,"ion-searchbar",19),p.NdJ("ngModelChange",function(e){return p.CHM(a),p.oxw().productSearch=e})("ionChange",function(e){return p.CHM(a),p.oxw().searchApi(e)}),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(1),p.Q6J("size",12),p.xp6(1),p.Q6J("ngModel",n.productSearch)}}function _(e,t){if(1&e){var a=p.EpF();p.TgZ(0,"ion-col",23),p.NdJ("click",function(){return p.CHM(a),p.oxw(2).goToCart()}),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col",24),p._UZ(3,"img",25),p.qZA(),p.TgZ(4,"ion-col",26),p.TgZ(5,"p",27),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw(2);p.Q6J("size",4),p.xp6(2),p.Q6J("size",4),p.xp6(1),p.Q6J("src",null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.cart_icon,p.LSH),p.xp6(1),p.Q6J("size",8),p.xp6(2),p.AsE("",null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.cart_text,": ",null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.total_products,"")}}function x(e,t){if(1&e){var a=p.EpF();p.TgZ(0,"ion-row"),p.TgZ(1,"ion-col",20),p.TgZ(2,"div",1),p.NdJ("click",function(){return p.CHM(a),p.oxw().ModalOpen()}),p._UZ(3,"img",21),p.qZA(),p.qZA(),p.YNc(4,_,7,6,"ion-col",22),p.qZA()}if(2&e){var n=p.oxw();p.xp6(1),p.Q6J("size",8),p.xp6(3),p.Q6J("ngIf",1==(null==n.temparray||null==n.temparray.header_data?null:n.temparray.header_data.cart_btn_applicable))}}function v(e,t){if(1&e){var a=p.EpF();p.TgZ(0,"ion-slide"),p.TgZ(1,"div",37),p.NdJ("click",function(){var e=p.CHM(a).$implicit;return p.oxw(2).gotoitemdetail(e)}),p.TgZ(2,"div",38),p._UZ(3,"img",39),p.qZA(),p.TgZ(4,"div",40),p.TgZ(5,"p",41),p._uU(6),p.qZA(),p.qZA(),p.TgZ(7,"div",40),p.TgZ(8,"p"),p._uU(9),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit;p.xp6(3),p.Q6J("src",null==n?null:n.cover_image,p.LSH),p.xp6(3),p.Oqu(null==n?null:n.goods_name),p.xp6(3),p.Oqu(null==n?null:n.product_points)}}function Z(e,t){if(1&e){var a=p.EpF();p.TgZ(0,"ion-col",18),p.TgZ(1,"div",28),p.TgZ(2,"p",29),p._uU(3),p.qZA(),p.qZA(),p._UZ(4,"br"),p.TgZ(5,"ion-row"),p.TgZ(6,"ion-col",30),p.TgZ(7,"span",1),p.NdJ("click",function(){var e=p.CHM(a).index;return p.oxw().goToFun(e,"prev")}),p._UZ(8,"ion-icon",31),p.qZA(),p.qZA(),p.TgZ(9,"ion-col",32),p.TgZ(10,"ion-slides",33),p.YNc(11,v,10,3,"ion-slide",34),p.qZA(),p.qZA(),p.TgZ(12,"ion-col",35),p.TgZ(13,"span",1),p.NdJ("click",function(){var e=p.CHM(a).index;return p.oxw().goToFun(e,"next")}),p._UZ(14,"ion-icon",36),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit,i=p.oxw();p.Q6J("size",12),p.xp6(3),p.Oqu(n.slabs),p.xp6(3),p.Q6J("size",1),p.xp6(3),p.Q6J("size",10),p.xp6(1),p.Q6J("options",i.postSlider),p.xp6(1),p.Q6J("ngForOf",null==n?null:n.products),p.xp6(1),p.Q6J("size",1)}}function b(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"p",42),p._uU(2),p.qZA(),p.qZA()),2&e){var a=p.oxw();p.xp6(2),p.Oqu(a.errorMessage)}}var y,w,z=[{path:"",component:(y=function(){function a(t,n,i,o,r,s,l,c,d){e(this,a),this.route=t,this.platform=n,this.sendData=i,this.apiService=o,this.zone=r,this.modalCtrl=s,this.navController=l,this.location=c,this.popoverController=d,this.temparray=[],this.serverData=[],this.val=!1,this.productSearch="",this.postSlider={speed:"500",initialSlide:0,slidesPerView:2,spaceBetween:7}}var n,i,o;return n=a,(i=[{key:"ionViewWillEnter",value:function(){var e=this;this.zone.run(function(){e.platform.is("mobile")?(e.postSlider={speed:"200",initialSlide:0,slidesPerView:2,spaceBetween:7},e.val=!0):e.postSlider={speed:"200",initialSlide:0,slidesPerView:4,spaceBetween:7},e.pointsGiftDetails(null,"")})}},{key:"ionViewWillLeave",value:function(){this.sendData.itemDetails={product_id:"",quantity:""}}},{key:"ngOnInit",value:function(){this.allocationData=this.sendData.alldata,console.log("temparray",this.allocationData)}},{key:"goToFun",value:function(e,t){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.slides.toArray().forEach(function(a,i){return(0,c.mG)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e!=i||"next"!=t){n.next=5;break}return n.next=3,a.slideNext();case 3:n.next=9;break;case 5:if(n.t0=e==i&&"prev"==t,!n.t0){n.next=9;break}return n.next=9,a.slidePrev();case 9:case"end":return n.stop()}},n)}))});case 1:case"end":return a.stop()}},a,this)}))}},{key:"doRefresh",value:function(e){console.log("Begin async operation"),this.pointsGiftDetails(e,"")}},{key:"close",value:function(){"self"==this.allocationData.redeem_for||"other"==this.allocationData.redeem_for?this.route.navigate(["./tabs/home"]):this.location.back()}},{key:"searchApi",value:function(e){console.log("ev",e),this.productSearch=e.detail.value&&""!=e.detail.value?e.detail.value:"",console.log("ev",e),this.serverData=[],this.pointsGiftDetails(e,this.productSearch)}},{key:"filterpage",value:function(){this.sendData.alldata=this.allocationData,this.route.navigate(["/redeemfilter"])}},{key:"ModalOpen",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:u.c,componentProps:{data:this.allocationData,filterPre:this.filData},cssClass:"modalClass"});case 2:return(t=e.sent).onDidDismiss().then(function(e){console.log("this.dataReturned:1",e.data),""!=e.data.data?(a.serverData=e.data.data,a.filData=e.data.filter,console.log("  this.serverData",a.serverData)):console.log(" this.dataReturned:",e.data)}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"pointsGiftDetails",value:function(e,t){var a=this;null==e&&this.apiService.presentLoadingDefault(),this.zone.run(function(){return(0,c.mG)(a,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.apiService.apiCallWithLoginToken(d.n.ProductListUrl,{request_page:this.allocationData.request_page,search_str:t,redeem_for:this.allocationData.redeem_for,request_for:this.allocationData.customer_id,request_user_type:this.allocationData.employee_type,filter:{category:"",sub_category:"",brands:""}}).subscribe(function(t){null==e&&n.apiService.presentLoadingClose(),n.temparray=t,1==t.success?(n.serverData=t.data,n.errorMessage=""):n.errorMessage=t.message},function(e){n.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg"),n.apiService.presentLoadingClose()});case 1:case"end":return a.stop()}},a,this)}))})}},{key:"purchaseDetails",value:function(){""==this.allocationData.customer_id?(this.sendData.alldata={customer_id:"",request_page:"self",backKey:"back2"},this.route.navigate(["./purchasehistory"])):(this.sendData.alldata={customer_id:this.allocationData.customer_id,request_page:"other",employee_type:this.allocationData.employee_type,backKey:"back"},this.route.navigate(["./purchasehistory"]))}},{key:"gotoitemdetail",value:function(e){this.sendData.page_request_type="buy",""==this.allocationData.customer_id?(this.sendData.itemDetails={auto_id:e.auto_id,request_page:"",request_for:""},this.sendData.redeem_for=this.allocationData.redeem_for,this.sendData.cart_request="customer"):(this.sendData.itemDetails={auto_id:e.auto_id,request_page:this.allocationData.employee_type,request_for:this.allocationData.customer_id},this.sendData.cart_request="dealer",this.sendData.redeem_for=this.allocationData.redeem_for,console.log("dfjk:",this.sendData.itemDetails)),this.route.navigate(["/itemdetail"])}},{key:"goToCart",value:function(){this.sendData.itemDetails=[],this.sendData.page_request_type="buy",this.sendData.cart_request="view",this.sendData.itemDetails={product_id:"",quantity:""},""==this.allocationData.customer_id?(this.sendData.redeem_for="self",this.route.navigate(["/buyitem"])):(this.sendData.alldata={customer_id:this.allocationData.customer_id,employee_type:this.allocationData.employee_type},this.sendData.redeem_for="other",this.route.navigate(["/buyitem"]))}}])&&t(n.prototype,i),o&&t(n,o),a}(),y.\u0275fac=function(e){return new(e||y)(p.Y36(l.F0),p.Y36(s.t4),p.Y36(g.b),p.Y36(h.s),p.Y36(p.R0b),p.Y36(s.IN),p.Y36(s.SH),p.Y36(o.Ye),p.Y36(s.Dh))},y.\u0275cmp=p.Xpm({type:y,selectors:[["app-pointsgiftlist"]],viewQuery:function(e,t){var a;1&e&&p.Gf(s.Hr,5),2&e&&p.iGM(a=p.CRH())&&(t.slides=a)},decls:18,vars:6,consts:[["slot","start"],[3,"click"],[1,"ion-padding"],["slot","fixed",3,"ionRefresh"],["sizexs","12","size-md","8","size-lg","8","push-md","2","push-lg","2",1,"whiteCol","ion-no-padding",3,"size"],["style","background-image: url('assets/Other Icons/Banner.svg');","class","bgWalletImage",4,"ngIf"],[4,"ngIf"],[1,"rowReedem"],["sizexs","12","size-md","12","size-lg","12",3,"size",4,"ngFor","ngForOf"],[1,"bgWalletImage",2,"background-image","url('assets/Other Icons/Banner.svg')"],["sizexs","2","size-md","2","size-lg","2",3,"size"],["onerror","this.src='assets/watermark/watermark.png'",1,"walletImages",3,"src"],["sizexs","6","size-md","6","size-lg","6",1,"",3,"size"],[1,"ion-no-margin","colorWhite","fontAcc"],[1,"ion-no-margin","colorWhite"],["sizexs","3","size-md","3","size-lg","3",3,"size"],[1,"divbtn"],[1,"divbtn",3,"click"],["sizexs","12","size-md","12","size-lg","12",3,"size"],["placeholder","Search Product",3,"ngModel","ngModelChange","ionChange"],["sizexs","8","size-md","10","size-lg","10",3,"size"],["src","assets/Other Icons/filter.png",1,"filterImg"],["sizexs","4","size-md","2","size-lg","2",3,"size","click",4,"ngIf"],["sizexs","4","size-md","2","size-lg","2",3,"size","click"],["sizexs","4","size-md","3","size-lg","3",1,"ion-no-padding",3,"size"],["onerror","this.src='assets/watermark/watermark.png'",1,"walletImage1",3,"src"],["sizexs","8","size-md","9","size-lg","9",3,"size"],[1,"ion-no-margin"],[1,"slabsDiv"],[1,"ion-no-margin","slabsPDiv"],["size-sm","1","size-md","1","size-lg","1",1,"padd","autoMargin",3,"size"],["name","chevron-back-outline"],["size-sm","10","size-md","10","size-lg","10",1,"brd","ion-no-padding",3,"size"],["pager","false",1,"slide_p",3,"options"],[4,"ngFor","ngForOf"],["size-sm","1","size-md","1","size-lg","1",1,"ion-text-right","autoMargin",3,"size"],["name","chevron-forward-outline"],[1,"grayclass",3,"click"],[1,"whiteclass","color_clsss"],["onerror","this.src='assets/watermark/watermark.png'",1,"imgcss",3,"src"],[1,"whiteclass","color_cls"],["text-wrap",""],[1,"ion-text-center"]],template:function(e,t){1&e&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-title"),p._uU(3,"Redeem"),p.qZA(),p.TgZ(4,"ion-buttons",0),p.TgZ(5,"ion-back-button",1),p.NdJ("click",function(){return t.close()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-content",2),p.TgZ(7,"ion-refresher",3),p.NdJ("ionRefresh",function(e){return t.doRefresh(e)}),p._UZ(8,"ion-refresher-content"),p.qZA(),p.TgZ(9,"ion-row"),p.TgZ(10,"ion-col",4),p.YNc(11,f,16,8,"div",5),p.TgZ(12,"div"),p.YNc(13,m,3,2,"ion-row",6),p.YNc(14,x,5,2,"ion-row",6),p.qZA(),p.TgZ(15,"ion-row",7),p.YNc(16,Z,15,7,"ion-col",8),p.qZA(),p.YNc(17,b,3,1,"div",6),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(10),p.Q6J("size",12),p.xp6(1),p.Q6J("ngIf",1==(null==t.temparray?null:t.temparray.success)),p.xp6(2),p.Q6J("ngIf",1==(null==t.temparray?null:t.temparray.success)),p.xp6(1),p.Q6J("ngIf",1==(null==t.temparray?null:t.temparray.success)),p.xp6(2),p.Q6J("ngForOf",t.serverData),p.xp6(1),p.Q6J("ngIf",""!=t.errorMessage))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.oU,s.cs,s.W2,s.nJ,s.Wo,s.Nd,s.wI,o.O5,o.sg,s.VI,s.j9,r.JJ,r.On,s.gu,s.Hr,s.A$],styles:[".table[_ngcontent-%COMP%]{box-shadow:1px 1px 1px 2px #efeaea}.table_start[_ngcontent-%COMP%]{padding-top:20px}.pinkBg[_ngcontent-%COMP%]{background-color:#f2e8e8}.header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{background-color:#d3d3d3}.padd[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.col[_ngcontent-%COMP%]{border-color:grey;border-style:solid none none solid;border-width:1px}ion-icon[_ngcontent-%COMP%]{color:var(--headerColor)}.col[_ngcontent-%COMP%]:last-child{border-right:1px solid grey}.row[_ngcontent-%COMP%]:last-child   .col[_ngcontent-%COMP%]{border-bottom:1px solid grey}.header-row[_ngcontent-%COMP%]{background:#b01d22;color:#fff;font-size:14px}.co_ro[_ngcontent-%COMP%]{border-left:1px solid #eceeef;text-align:center}ion-text[_ngcontent-%COMP%]{font-size:12px}.walletImages[_ngcontent-%COMP%]{height:50px;width:50px;-o-object-fit:contain;object-fit:contain}.colorWhite[_ngcontent-%COMP%]{color:#fff}.accTitle[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.bgWalletImage[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;padding:5px;background-position:50%}.totalBtn[_ngcontent-%COMP%]{--background:#ec6d72;max-width:100%;white-space:pre-wrap;font-size:11px;--padding-start:5px;--padding-end:5px}.fontAcc[_ngcontent-%COMP%]{font-size:12px}.divbtn[_ngcontent-%COMP%]{border:1px solid #fff;padding:5px;text-align:center;margin-bottom:5px;border-radius:16px}.divbtn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:11px}.imgcss[_ngcontent-%COMP%]{height:100px;width:100%;-o-object-fit:cover;object-fit:cover;border-radius:10px}.grayclass[_ngcontent-%COMP%]{padding:2px;box-shadow:gray;height:100%;background:#fff;border-radius:10px}.color_cls[_ngcontent-%COMP%]{color:#fff}.whiteclass[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px;font-size:11px;padding-bottom:5px;color:#000}.whiteclass[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border-top:1px solid #d3d3d3;border-bottom:1px solid #d3d3d3}hr[_ngcontent-%COMP%]{width:100%!important;font-size:1em!important;border:.5px solid #dcdcdc}.slide_p[_ngcontent-%COMP%]{height:100%}.walletImage1[_ngcontent-%COMP%]{width:25px;height:25px;-o-object-fit:contain;object-fit:contain}.slabsDiv[_ngcontent-%COMP%]{padding:6px;background-color:var(--headerColor);border-radius:8px}.slabsPDiv[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin:0;font-size:18px;padding-left:5px}.rowReedem[_ngcontent-%COMP%]{background:#584e4e24}.filterImg[_ngcontent-%COMP%]{margin:0 0 0 10px;width:18px;height:18px;-o-object-fit:contain;object-fit:contain}"]}),y)}],q=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[l.Bz.forChild(z)],l.Bz]}),t}(),D=((w=function t(){e(this,t)}).\u0275fac=function(e){return new(e||w)},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({imports:[[o.ez,r.u5,s.Pc,q]]}),w)}}])}();