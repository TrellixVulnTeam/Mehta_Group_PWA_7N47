(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[6282],{66282:function(e,t,i){"use strict";i.r(t),i.d(t,{PointsgiftlistPageModule:function(){return b}});var a=i(38583),o=i(90665),n=i(47823),s=i(12234),r=i(64762),l=i(56544),c=i(61131),d=i(88720),g=i(51532),p=i(14303);function u(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",14),d.TgZ(1,"ion-row"),d.TgZ(2,"ion-col",15),d._UZ(3,"img",16),d.qZA(),d.TgZ(4,"ion-col",17),d.TgZ(5,"p",18),d._uU(6),d.qZA(),d.TgZ(7,"p",19),d._uU(8),d.qZA(),d.qZA(),d.TgZ(9,"ion-col",20),d.TgZ(10,"div",21),d.TgZ(11,"p"),d._uU(12),d.qZA(),d.qZA(),d.TgZ(13,"div",22),d.NdJ("click",function(){return d.CHM(e),d.oxw().purchaseDetails()}),d.TgZ(14,"p"),d._uU(15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Q6J("size",2),d.xp6(1),d.Q6J("src",null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.coin_icon,d.LSH),d.xp6(1),d.Q6J("size",6),d.xp6(2),d.Oqu(null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.bal_text),d.xp6(2),d.Oqu(null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.user_balance),d.xp6(1),d.Q6J("size",4),d.xp6(3),d.Oqu(null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.slab_text),d.xp6(3),d.Oqu(null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.history_text)}}function h(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-col",23),d.NdJ("click",function(){return d.CHM(e),d.oxw().goToCart()}),d.TgZ(1,"ion-row"),d.TgZ(2,"ion-col",24),d._UZ(3,"img",25),d.qZA(),d.TgZ(4,"ion-col",26),d.TgZ(5,"p",27),d._uU(6),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.Q6J("size",4),d.xp6(2),d.Q6J("size",4),d.xp6(1),d.Q6J("src",null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.cart_icon,d.LSH),d.xp6(1),d.Q6J("size",8),d.xp6(2),d.AsE("",null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.cart_text,": ",null==e.temparray||null==e.temparray.header_data?null:e.temparray.header_data.total_products,"")}}function m(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-slide"),d.TgZ(1,"div",37),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).gotoitemdetail(t)}),d.TgZ(2,"div",38),d._UZ(3,"img",39),d.qZA(),d.TgZ(4,"div",40),d.TgZ(5,"p",41),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",40),d.TgZ(8,"p"),d._uU(9),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(3),d.Q6J("src",null==e?null:e.cover_image,d.LSH),d.xp6(3),d.Oqu(null==e?null:e.goods_name),d.xp6(3),d.Oqu(null==e?null:e.product_points)}}function f(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-col",6),d.TgZ(1,"div",28),d.TgZ(2,"p",29),d._uU(3),d.qZA(),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"ion-row"),d.TgZ(6,"ion-col",30),d.TgZ(7,"span",1),d.NdJ("click",function(){const t=d.CHM(e).index;return d.oxw().goToFun(t,"prev")}),d._UZ(8,"ion-icon",31),d.qZA(),d.qZA(),d.TgZ(9,"ion-col",32),d.TgZ(10,"ion-slides",33),d.YNc(11,m,10,3,"ion-slide",34),d.qZA(),d.qZA(),d.TgZ(12,"ion-col",35),d.TgZ(13,"span",1),d.NdJ("click",function(){const t=d.CHM(e).index;return d.oxw().goToFun(t,"next")}),d._UZ(14,"ion-icon",36),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=d.oxw();d.Q6J("size",12),d.xp6(3),d.Oqu(e.slabs),d.xp6(3),d.Q6J("size",1),d.xp6(3),d.Q6J("size",10),d.xp6(1),d.Q6J("options",i.postSlider),d.xp6(1),d.Q6J("ngForOf",null==e?null:e.products),d.xp6(1),d.Q6J("size",1)}}function _(e,t){if(1&e&&(d.TgZ(0,"div"),d._UZ(1,"img",42),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("src",e.errorImage,d.LSH)}}const x=[{path:"",component:(()=>{class e{constructor(e,t,i,a,o,n,s,r,l){this.route=e,this.platform=t,this.sendData=i,this.apiService=a,this.zone=o,this.modalCtrl=n,this.navController=s,this.location=r,this.popoverController=l,this.temparray=[],this.serverData=[],this.val=!1,this.productSearch="",this.postSlider={speed:"500",initialSlide:0,slidesPerView:2,spaceBetween:7}}ionViewWillEnter(){this.zone.run(()=>{this.platform.is("mobile")?(this.postSlider={speed:"200",initialSlide:0,slidesPerView:2,spaceBetween:7},this.val=!0):this.postSlider={speed:"200",initialSlide:0,slidesPerView:4,spaceBetween:7},this.pointsGiftDetails(null,"")})}ionViewWillLeave(){this.sendData.itemDetails={product_id:"",quantity:""}}ngOnInit(){this.allocationData=this.sendData.alldata,console.log("temparray",this.allocationData)}goToFun(e,t){return(0,r.mG)(this,void 0,void 0,function*(){this.slides.toArray().forEach((i,a)=>(0,r.mG)(this,void 0,void 0,function*(){e==a&&"next"==t?yield i.slideNext():e==a&&"prev"==t&&(yield i.slidePrev())}))})}doRefresh(e){console.log("Begin async operation"),this.pointsGiftDetails(e,"")}close(){"self"==this.allocationData.redeem_for||"other"==this.allocationData.redeem_for?this.route.navigate(["./tabs/home"]):this.location.back()}searchApi(e){console.log("ev",e),this.productSearch=e.detail.value&&""!=e.detail.value?e.detail.value:"",console.log("ev",e),this.serverData=[],this.pointsGiftDetails(e,this.productSearch)}filterpage(){this.sendData.alldata=this.allocationData,this.route.navigate(["/redeemfilter"])}ModalOpen(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:c.c,componentProps:{data:this.allocationData,filterPre:this.filData},cssClass:"modalClass"});return e.onDidDismiss().then(e=>{console.log("this.dataReturned:1",e.data),""!=e.data.data?(this.serverData=e.data.data,this.filData=e.data.filter,console.log("  this.serverData",this.serverData)):console.log(" this.dataReturned:",e.data)}),yield e.present()})}pointsGiftDetails(e,t){null==e&&this.apiService.presentLoadingDefault(),this.zone.run(()=>(0,r.mG)(this,void 0,void 0,function*(){this.apiService.apiCallWithLoginToken(l.n.ProductListUrl,{request_page:this.allocationData.request_page,search_str:t,redeem_for:this.allocationData.redeem_for,request_for:this.allocationData.customer_id,request_user_type:this.allocationData.employee_type,filter:{category:"",sub_category:"",brands:""}}).subscribe(t=>{null==e&&this.apiService.presentLoadingClose(),this.temparray=t,1==t.success?(this.serverData=t.data,this.errorImage=""):this.errorImage=t.error_image},e=>{this.apiService.showToastMessage(JSON.stringify(e),"top",3e3,"redBg"),this.apiService.presentLoadingClose()})}))}purchaseDetails(){""==this.allocationData.customer_id?(this.sendData.alldata={customer_id:"",request_page:"self",backKey:"back2"},this.route.navigate(["./purchasehistory"])):(this.sendData.alldata={customer_id:this.allocationData.customer_id,request_page:"other",employee_type:this.allocationData.employee_type,backKey:"back"},this.route.navigate(["./purchasehistory"]))}gotoitemdetail(e){this.sendData.page_request_type="buy",""==this.allocationData.customer_id?(this.sendData.itemDetails={auto_id:e.auto_id,request_page:"",request_for:""},this.sendData.redeem_for=this.allocationData.redeem_for,this.sendData.cart_request="customer"):(this.sendData.itemDetails={auto_id:e.auto_id,request_page:this.allocationData.employee_type,request_for:this.allocationData.customer_id},this.sendData.cart_request="dealer",this.sendData.redeem_for=this.allocationData.redeem_for,console.log("dfjk:",this.sendData.itemDetails)),this.route.navigate(["/itemdetail"])}goToCart(){this.sendData.itemDetails=[],this.sendData.page_request_type="buy",this.sendData.cart_request="view",this.sendData.itemDetails={product_id:"",quantity:""},""==this.allocationData.customer_id?(this.sendData.redeem_for="self",this.route.navigate(["/buyitem"])):(this.sendData.alldata={customer_id:this.allocationData.customer_id,employee_type:this.allocationData.employee_type},this.sendData.redeem_for="other",this.route.navigate(["/buyitem"]))}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(s.F0),d.Y36(n.t4),d.Y36(g.b),d.Y36(p.s),d.Y36(d.R0b),d.Y36(n.IN),d.Y36(n.SH),d.Y36(a.Ye),d.Y36(n.Dh))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-pointsgiftlist"]],viewQuery:function(e,t){if(1&e&&d.Gf(n.Hr,5),2&e){let e;d.iGM(e=d.CRH())&&(t.slides=e)}},decls:24,vars:8,consts:[["slot","start"],[3,"click"],[1,"ion-padding"],["slot","fixed",3,"ionRefresh"],["sizexs","12","size-md","8","size-lg","8","push-md","2","push-lg","2",1,"whiteCol","ion-no-padding",3,"size"],["style","background-image: url('assets/Other Icons/Banner.svg');","class","bgWalletImage",4,"ngIf"],["sizexs","12","size-md","12","size-lg","12",3,"size"],["placeholder","Search Product",3,"ngModel","ngModelChange","ionChange"],["sizexs","8","size-md","10","size-lg","10",1,"autoMargin",3,"size"],["src","assets/Other Icons/filter.png",1,"filterImg"],["sizexs","4","size-md","2","size-lg","2",3,"size","click",4,"ngIf"],[1,"rowReedem"],["sizexs","12","size-md","12","size-lg","12",3,"size",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bgWalletImage",2,"background-image","url('assets/Other Icons/Banner.svg')"],["sizexs","2","size-md","2","size-lg","2",3,"size"],["onerror","this.src='assets/watermark/watermark.png'",1,"walletImages",3,"src"],["sizexs","6","size-md","6","size-lg","6",1,"",3,"size"],[1,"ion-no-margin","colorWhite","fontAcc"],[1,"ion-no-margin","colorWhite"],["sizexs","3","size-md","3","size-lg","3",3,"size"],[1,"divbtn"],[1,"divbtn",3,"click"],["sizexs","4","size-md","2","size-lg","2",3,"size","click"],["sizexs","4","size-md","3","size-lg","3",1,"ion-no-padding",3,"size"],["onerror","this.src='assets/watermark/watermark.png'",1,"walletImage1",3,"src"],["sizexs","8","size-md","9","size-lg","9",3,"size"],[1,"ion-no-margin"],[1,"slabsDiv"],[1,"ion-no-margin","slabsPDiv"],["size-sm","1","size-md","1","size-lg","1",1,"padd","autoMargin",3,"size"],["name","chevron-back-outline"],["size-sm","10","size-md","10","size-lg","10",1,"brd","ion-no-padding",3,"size"],["pager","false",1,"slide_p",3,"options"],[4,"ngFor","ngForOf"],["size-sm","1","size-md","1","size-lg","1",1,"ion-text-right","autoMargin",3,"size"],["name","chevron-forward-outline"],[1,"grayclass",3,"click"],[1,"whiteclass","color_clsss"],["onerror","this.src='assets/watermark/watermark.png'",1,"imgcss",3,"src"],[1,"whiteclass","color_cls"],["text-wrap",""],[3,"src"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-title"),d._uU(3,"Redeem"),d.qZA(),d.TgZ(4,"ion-buttons",0),d.TgZ(5,"ion-back-button",1),d.NdJ("click",function(){return t.close()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"ion-content",2),d.TgZ(7,"ion-refresher",3),d.NdJ("ionRefresh",function(e){return t.doRefresh(e)}),d._UZ(8,"ion-refresher-content"),d.qZA(),d.TgZ(9,"ion-row"),d.TgZ(10,"ion-col",4),d.YNc(11,u,16,8,"div",5),d.TgZ(12,"div"),d.TgZ(13,"ion-row"),d.TgZ(14,"ion-col",6),d.TgZ(15,"ion-searchbar",7),d.NdJ("ngModelChange",function(e){return t.productSearch=e})("ionChange",function(e){return t.searchApi(e)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"ion-row"),d.TgZ(17,"ion-col",8),d.TgZ(18,"div",1),d.NdJ("click",function(){return t.ModalOpen()}),d._UZ(19,"img",9),d.qZA(),d.qZA(),d.YNc(20,h,7,6,"ion-col",10),d.qZA(),d.qZA(),d.TgZ(21,"ion-row",11),d.YNc(22,f,15,7,"ion-col",12),d.qZA(),d.YNc(23,_,2,1,"div",13),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(10),d.Q6J("size",12),d.xp6(1),d.Q6J("ngIf",1==(null==t.temparray?null:t.temparray.success)),d.xp6(3),d.Q6J("size",12),d.xp6(1),d.Q6J("ngModel",t.productSearch),d.xp6(2),d.Q6J("size",8),d.xp6(3),d.Q6J("ngIf",1==(null==t.temparray||null==t.temparray.header_data?null:t.temparray.header_data.cart_btn_applicable)),d.xp6(2),d.Q6J("ngForOf",t.serverData),d.xp6(1),d.Q6J("ngIf",""!=t.errorImage))},directives:[n.Gu,n.sr,n.wd,n.Sm,n.oU,n.cs,n.W2,n.nJ,n.Wo,n.Nd,n.wI,a.O5,n.VI,n.j9,o.JJ,o.On,a.sg,n.gu,n.Hr,n.A$],styles:[".table[_ngcontent-%COMP%]{box-shadow:1px 1px 1px 2px #efeaea}.table_start[_ngcontent-%COMP%]{padding-top:20px}.pinkBg[_ngcontent-%COMP%]{background-color:#f2e8e8}.header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{background-color:#d3d3d3}.padd[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.col[_ngcontent-%COMP%]{border-color:grey;border-style:solid none none solid;border-width:1px}ion-icon[_ngcontent-%COMP%]{color:var(--headerColor)}.col[_ngcontent-%COMP%]:last-child{border-right:1px solid grey}.row[_ngcontent-%COMP%]:last-child   .col[_ngcontent-%COMP%]{border-bottom:1px solid grey}.header-row[_ngcontent-%COMP%]{background:#b01d22;color:#fff;font-size:14px}.co_ro[_ngcontent-%COMP%]{border-left:1px solid #eceeef;text-align:center}ion-text[_ngcontent-%COMP%]{font-size:12px}.walletImages[_ngcontent-%COMP%]{height:50px;width:50px;-o-object-fit:contain;object-fit:contain}.colorWhite[_ngcontent-%COMP%]{color:#fff}.accTitle[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.bgWalletImage[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;padding:5px;background-position:50%}.totalBtn[_ngcontent-%COMP%]{--background:#ec6d72;max-width:100%;white-space:pre-wrap;font-size:11px;--padding-start:5px;--padding-end:5px}.fontAcc[_ngcontent-%COMP%]{font-size:12px}.divbtn[_ngcontent-%COMP%]{border:1px solid #fff;padding:5px;text-align:center;margin-bottom:5px;border-radius:16px}.divbtn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:11px}.imgcss[_ngcontent-%COMP%]{height:100px;width:100%;-o-object-fit:cover;object-fit:cover;border-radius:10px}.grayclass[_ngcontent-%COMP%]{padding:2px;box-shadow:gray;height:100%;background:#fff;border-radius:10px}.color_cls[_ngcontent-%COMP%]{color:#fff}.whiteclass[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px;font-size:11px;padding-bottom:5px;color:#000}.whiteclass[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border-top:1px solid #d3d3d3;border-bottom:1px solid #d3d3d3}hr[_ngcontent-%COMP%]{width:100%!important;font-size:1em!important;border:.5px solid #dcdcdc}.slide_p[_ngcontent-%COMP%]{height:100%}.walletImage1[_ngcontent-%COMP%]{width:25px;height:25px;-o-object-fit:contain;object-fit:contain}.slabsDiv[_ngcontent-%COMP%]{padding:6px;background-color:var(--headerColor);border-radius:8px}.slabsPDiv[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin:0;font-size:18px;padding-left:5px}.rowReedem[_ngcontent-%COMP%]{background:#584e4e24}.filterImg[_ngcontent-%COMP%]{margin:0 0 0 10px;width:18px;height:18px;-o-object-fit:contain;object-fit:contain}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[s.Bz.forChild(x)],s.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.ez,o.u5,n.Pc,Z]]}),e})()}}]);