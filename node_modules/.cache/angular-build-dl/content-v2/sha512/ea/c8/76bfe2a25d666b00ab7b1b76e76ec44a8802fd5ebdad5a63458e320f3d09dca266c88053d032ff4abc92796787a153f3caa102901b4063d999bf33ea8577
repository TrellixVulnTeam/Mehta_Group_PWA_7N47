(self.webpackChunkMehta=self.webpackChunkMehta||[]).push([[2490],{2490:function(t,e,i){"use strict";i.r(e),i.d(e,{ProfileUploadPageModule:function(){return T}});var n=i(38583),o=i(90665),a=i(47823),s=i(12234),r=i(64762),c=i(39182),g=i(56544),l=i(88720),d=i(84267),p=i(20138),h=i(59865),u=i(14303),m=i(51532);function f(t,e){1&t&&l._UZ(0,"img",20)}function b(t,e){if(1&t&&l._UZ(0,"img",21),2&t){const t=l.oxw();l.Q6J("src",t.userImg,l.LSH)}}const Z=function(t){return{"content-bg":t}},I=function(t){return{boundary1:t}},_=function(t){return{banner:t}},q=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,a,s,r,c,g,l,d){this.camera=t,this.actionSheetController=e,this.file=i,this.zone=n,this.location=o,this.route=a,this.platform=s,this.filePath=r,this.apiService=c,this.modalCtrl=g,this.sendData=l,this.toastController=d,this.win=window,this.userImg="",this.files=[],this.croppedImagePath="",this.isLoading=!1,this.formData=[],this.imagePickerOptions={maximumImagesCount:1,quality:50},this.showImgOption=!1,this.registrationData=this.sendData.alldata,this.registrationData.requestFor="dealer"==this.registrationData.requestPage?this.registrationData.requestFor:"",console.log("1",this.registrationData),s.ready().then(()=>{console.log("Width: "+s.width()),console.log("Height: "+s.height())})}ngOnInit(){}next(){"dealer"==this.registrationData.requestPage?(this.sendData.alldata=this.registrationData,this.route.navigate(["/geolocation"])):this.route.navigate(["/tabs"])}skip(){this.zone.run(()=>{this.apiService.apiCallWithLoginToken(g.n.SkipUrl,{request_page:this.registrationData.requestPage,requested_module:"profile",request_for:this.registrationData.requestFor}).subscribe(t=>{1==t.success?"dealer"==this.registrationData.requestPage?(this.sendData.alldata=this.registrationData,this.route.navigate(["/geolocation"])):(console.log("gotoHome"),this.route.navigateByUrl("/tabs")):this.apiService.showToastMessage(t.message,"top",3e3,"redBg")},t=>{this.apiService.showToastMessage(JSON.stringify(t),"top",3e3,"redBg")})})}back(){let t={request_page:this.registrationData.requestPage,frompage:"back"};this.sendData.alldata=this.registrationData.requestFor,this.sendData.registrationType=t,setTimeout(()=>{this.location.back()},1e3)}pickImage(t){return(0,r.mG)(this,void 0,void 0,function*(){const e={quality:100,sourceType:t,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE},i=yield this.camera.getPicture(e),n=i.substr(i.lastIndexOf("/")+1),o=i.substr(0,i.lastIndexOf("/")+1),a=this.file.dataDirectory;yield this.file.copyFile(o,n,a,n),this.win.ionic.webview.convertFileSrc(a+n)})}selectImage(t){return(0,r.mG)(this,void 0,void 0,function*(){console.log("selectImage cordova"),this.currentObj=t;const e=yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>{this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY)}},{text:"Use Camera",handler:()=>{this.pickImage(this.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]});yield e.present()})}openSelectImageOpt(t){return(0,r.mG)(this,void 0,void 0,function*(){if(console.log("selectImage browser"),this.currentObj=t,0==this.showImgOption){this.showImgOption=!0;const t=yield this.modalCtrl.create({component:c.b,componentProps:{data:this.registrationData},cssClass:"my-custom-class"});return t.onDidDismiss().then(t=>{null!==t?(this.UplaodData=t.data,this.dataReturned=t.data.data,console.log(" this.dataReturned:",this.dataReturned),this.userImg=this.dataReturned.filebaseUrl,null==this.userImg&&(this.userImg=""),console.log("data:",this.userImg)):this.userImg=""}),yield t.present()}this.showImgOption=!1})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.V1),l.Y36(a.BX),l.Y36(p.$),l.Y36(l.R0b),l.Y36(n.Ye),l.Y36(s.F0),l.Y36(a.t4),l.Y36(h.y),l.Y36(u.s),l.Y36(a.IN),l.Y36(m.b),l.Y36(a.yF))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-profile-upload"]],decls:38,vars:13,consts:[[3,"ngClass"],[1,"ion-justify-content-center"],["size-xl","6","size-md","8","size-xs","12",3,"ngClass"],["src","assets/icon/Bandhan Logo.png",2,"width","150px"],[1,"col"],["src","assets/icon/abc.png",2,"width","130px","text-align","right"],["size","8",1,"simple"],[1,"para"],["size","4",1,"simple1"],[1,"para1",3,"click"],[3,"size"],[1,"relativeDiv"],["class","profile_image centerData","src","assets/icon/Group 14078.png",4,"ngIf"],["class","profile_image centerData dottedBorder userImageUpload",3,"src",4,"ngIf"],["name","add-circle","tappable","",1,"plushIcon","centerData",3,"click"],[2,"text-align","right","padding","20px"],[1,"ionic_btn","butt",3,"click"],[2,"text-align","left","padding","20px"],[1,"ionic_btn",3,"disabled","click"],["src","assets/icon/Design 1.png",1,"banner_bg"],["src","assets/icon/Group 14078.png",1,"profile_image","centerData"],[1,"profile_image","centerData","dottedBorder","userImageUpload",3,"src"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-content",0),l.TgZ(1,"ion-row",1),l.TgZ(2,"ion-col",2),l.TgZ(3,"ion-grid"),l.TgZ(4,"ion-row"),l.TgZ(5,"ion-col"),l._UZ(6,"img",3),l.qZA(),l.TgZ(7,"ion-col",4),l._UZ(8,"img",5),l.qZA(),l.qZA(),l._UZ(9,"br"),l.qZA(),l.TgZ(10,"ion-row"),l.TgZ(11,"ion-col",6),l.TgZ(12,"p",7),l._uU(13,"Upload Profile Picture"),l.qZA(),l.qZA(),l.TgZ(14,"ion-col",8),l.TgZ(15,"p",9),l.NdJ("click",function(){return e.skip()}),l._uU(16,"Skip"),l.qZA(),l.qZA(),l.qZA(),l._UZ(17,"br"),l._UZ(18,"br"),l.TgZ(19,"ion-row"),l.TgZ(20,"ion-col",10),l.TgZ(21,"div",11),l.YNc(22,f,1,0,"img",12),l.YNc(23,b,1,1,"img",13),l.TgZ(24,"ion-icon",14),l.NdJ("click",function(){return e.openSelectImageOpt("img")}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(25,"br"),l._UZ(26,"br"),l._UZ(27,"br"),l._UZ(28,"br"),l.TgZ(29,"div",0),l.TgZ(30,"ion-row"),l.TgZ(31,"ion-col",15),l.TgZ(32,"ion-button",16),l.NdJ("click",function(){return e.back()}),l._uU(33,"Back"),l.qZA(),l.qZA(),l.TgZ(34,"ion-col",17),l.TgZ(35,"ion-button",18),l.NdJ("click",function(){return e.next()}),l._uU(36,"Next"),l.qZA(),l.qZA(),l.qZA(),l._UZ(37,"img",19),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.Q6J("ngClass",l.VKq(7,Z,e.platform.width()<740)),l.xp6(2),l.Q6J("ngClass",l.VKq(9,I,e.platform.width()>740)),l.xp6(18),l.Q6J("size",12),l.xp6(2),l.Q6J("ngIf",""==e.userImg),l.xp6(1),l.Q6J("ngIf",""!=e.userImg),l.xp6(6),l.Q6J("ngClass",l.VKq(11,_,e.platform.width()<740)),l.xp6(6),l.Q6J("disabled",""==e.userImg))},directives:[a.W2,n.mk,a.Nd,a.wI,a.jY,n.O5,a.gu,a.YG],styles:[".col[_ngcontent-%COMP%]{text-align:end}.para[_ngcontent-%COMP%]{font-weight:700}.para[_ngcontent-%COMP%], .para1[_ngcontent-%COMP%]{color:#b01d22}.para1[_ngcontent-%COMP%]{text-align:end}.profile[_ngcontent-%COMP%]{width:140px;height:150px;padding:15px;position:relative;border:dotted;border-radius:71px;border-color:#b01d22}.banner_bg[_ngcontent-%COMP%]{margin-top:-66px;left:0;width:100%;display:block}.profile_image[_ngcontent-%COMP%]{width:150px}.simple[_ngcontent-%COMP%]{padding:0 0 0 12px}.simple1[_ngcontent-%COMP%]{padding:0 8px 0 0}.plushIcon[_ngcontent-%COMP%]{margin-top:-21px;color:#b01d22;font-size:3rem;border:dotted;border-radius:30px}.userImageUpload[_ngcontent-%COMP%]{border-radius:50%;height:150px;border:3px dotted #b01d22;-o-object-fit:cover;object-fit:cover}.hiddenDiv[_ngcontent-%COMP%]{display:none!important}"]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.Bz.forChild(q)],s.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,o.u5,a.Pc,x]]}),t})()}}]);