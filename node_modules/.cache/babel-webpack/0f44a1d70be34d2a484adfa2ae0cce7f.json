{"ast":null,"code":"import { URLS } from 'src/assets/constant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"src/app/provider/api.service\";\nimport * as i4 from \"src/app/services/data-transfer.service\";\nimport * as i5 from \"src/app/services/local-storage.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\n\nconst _c0 = function (a0) {\n  return {\n    \"content-bg\": a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"boundary\": a0\n  };\n};\n\nconst _c2 = function (a0) {\n  return {\n    \"banner\": a0\n  };\n};\n\nexport let OtpverifyPage = /*#__PURE__*/(() => {\n  class OtpverifyPage {\n    constructor(route, platform, apiService, zone, sendData, localStorage, navCtrl) {\n      this.route = route;\n      this.platform = platform;\n      this.apiService = apiService;\n      this.zone = zone;\n      this.sendData = sendData;\n      this.localStorage = localStorage;\n      this.navCtrl = navCtrl;\n      this.FirstOtp = \"\";\n      this.SecondOtp = \"\";\n      this.ThirdOtp = \"\";\n      this.FourthOtp = \"\";\n      this.priviousData = this.sendData.alldata;\n      this.mobileNumberData = this.priviousData.apiData;\n      this.reg = this.sendData.itemDetails;\n      console.log('login priviousData', this.priviousData);\n      console.log('login reg', this.reg);\n      platform.ready().then(() => {\n        console.log('Width: ' + platform.width());\n        console.log('Height: ' + platform.height());\n      });\n    }\n\n    ngOnInit() {}\n\n    moveFocus(nextElement, val, index) {\n      if (index < 4) {\n        if (this.SecondOtp == undefined || this.SecondOtp == \"\") {\n          nextElement.setFocus();\n        } else if (this.ThirdOtp == undefined || this.ThirdOtp == \"\") {\n          nextElement.setFocus();\n        } else if (this.FourthOtp == undefined || this.FourthOtp == \"\") {\n          nextElement.setFocus();\n        }\n      } else {}\n    }\n\n    checkFocus(index) {\n      console.log(\"********\", index);\n\n      if (index == 1) {\n        this.FirstOtp = \"\";\n      } else if (index == 2) {\n        this.SecondOtp = \"\";\n      } else if (index == 3) {\n        this.ThirdOtp = \"\";\n      } else if (index == 4) {\n        this.FourthOtp = \"\";\n      }\n    }\n\n    Continue() {\n      this.zone.run(() => {\n        this.apiService.presentLoadingDefault();\n        let apiKey = {\n          \"contact\": this.priviousData.phonenumber,\n          \"otp\": this.FirstOtp.trim() + this.SecondOtp.trim() + this.ThirdOtp.trim() + this.FourthOtp.trim(),\n          \"employee_id\": this.mobileNumberData.user_id,\n          \"type\": this.mobileNumberData.data.type,\n          \"dealer_id\": this.priviousData.dealer_id,\n          \"request_page\": this.priviousData.requestPage,\n          \"request_for\": this.mobileNumberData.user_id\n        };\n        this.apiService.apiCallWithLoginToken(URLS.otpSubmitUrl, apiKey).subscribe(result => {\n          this.apiService.presentLoadingClose();\n\n          if (result.success == 1) {\n            if (result.request_page == 'dealer') {\n              this.sendData.registrationType = result;\n              this.sendData.alldata = this.mobileNumberData.user_id;\n              this.route.navigate(['/registration']);\n              console.log('1 sendData', this.sendData.alldata);\n            } else if (result.request_page == 'officer') {\n              result.frompage = 'otp';\n              this.sendData.registrationType = result;\n              this.sendData.alldata = this.mobileNumberData.user_id;\n\n              if (this.reg.data.data.show_form == true) {\n                this.route.navigate(['/registration']);\n              } else {\n                this.navCtrl.navigateRoot([\"tabs/home\"]); // this.route.navigateByUrl(\"/tabs/home\",{replaceUrl:true});\n              }\n\n              console.log('2 sendData', this.sendData.alldata);\n            } else {\n              this.localStorage.setStorage('allStoreData', result.data);\n\n              if (result.tnc_verified == 0) {\n                this.route.navigate(['/terms-conditions']);\n              } else {\n                this.localStorage.getStorage().then(allShiavsnhi => {\n                  console.log('2 allShiavsnhi', allShiavsnhi);\n\n                  if (allShiavsnhi) {\n                    console.log('2 allShiavsnhi==', allShiavsnhi);\n                    this.navCtrl.navigateRoot([\"/tabs/home\"]); // this.route.navigateByUrl(\"/tabs/home\",{replaceUrl:true});\n                    //  this.route.navigate(['./tabs']);\n                  }\n                });\n              }\n            }\n          } else {\n            this.apiService.showToastMessage(result.message, 'top', 3000, 'redBg');\n          }\n        }, err => {\n          this.apiService.presentLoadingClose();\n          this.apiService.showToastMessage(JSON.stringify(err), 'top', 3000, 'redBg');\n        });\n      });\n    }\n\n    SendOtp(Sendtype, messageType) {\n      this.apiService.presentLoadingDefault();\n      this.zone.run(() => {\n        let apiKey = {\n          \"contact\": this.priviousData.phonenumber,\n          \"send_type\": Sendtype,\n          \"message_type\": messageType\n        };\n        this.mobileNumberData.data.type = \"3\";\n        this.apiService.apiCallWithLoginToken(URLS.MobileSubmitUrl, apiKey).subscribe(result => {\n          this.apiService.presentLoadingClose();\n\n          if (result.message) {\n            this.apiService.showToastMessage(result.message, 'top', 3000, 'greenBg');\n          } else {}\n        }, err => {\n          this.apiService.presentLoadingClose();\n          this.apiService.showToastMessage(JSON.stringify(err), 'top', 3000, 'redBg');\n        });\n      });\n    }\n\n    mobileno() {\n      this.route.navigate(['./mobile']);\n    }\n\n  }\n\n  OtpverifyPage.ɵfac = function OtpverifyPage_Factory(t) {\n    return new (t || OtpverifyPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Platform), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i4.DataTransferService), i0.ɵɵdirectiveInject(i5.LocalStorageService), i0.ɵɵdirectiveInject(i2.NavController));\n  };\n\n  OtpverifyPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OtpverifyPage,\n    selectors: [[\"app-otpverify\"]],\n    decls: 43,\n    vars: 25,\n    consts: [[3, \"ngClass\"], [1, \"ion-justify-content-center\", \"abc1\"], [\"size-xl\", \"4\", \"size-md\", \"8\", \"size-xs\", \"12\", 3, \"ngClass\"], [\"src\", \"assets/icon/logo.svg\", 1, \"small_p\"], [1, \"col\"], [\"src\", \"assets/icon/abc.png\", 1, \"small\"], [\"push-lg\", \"1\"], [1, \"ion-no-margin\", \"frstmsg\", 3, \"innerHTML\"], [\"tappable\", \"\", 1, \"para\", 3, \"click\"], [1, \"boxInput\"], [1, \"box1\", 3, \"size\"], [\"maxlength\", \"1\", \"mode\", \"md\", \"placeholder\", \"*\", \"type\", \"tel\", 1, \"box\", 3, \"ngModel\", \"ionFocus\", \"keyup\", \"ngModelChange\"], [\"otp1\", \"\"], [\"otp2\", \"\"], [\"otp3\", \"\"], [\"otp4\", \"\"], [\"tappable\", \"\", 1, \"para\", 3, \"innerHTML\", \"click\"], [1, \"para\", \"ion-no-margin\"], [\"tappable\", \"\", 3, \"click\"], [1, \"butt1\", 3, \"ngClass\"], [\"tappable\", \"\", 1, \"ionic_btn\", 3, \"disabled\", \"click\"], [\"src\", \"assets/icon/Design 1.png\", 1, \"banner_bg\"]],\n    template: function OtpverifyPage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r4 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"ion-content\", 0);\n        i0.ɵɵelementStart(1, \"ion-row\", 1);\n        i0.ɵɵelementStart(2, \"ion-col\", 2);\n        i0.ɵɵelementStart(3, \"ion-grid\");\n        i0.ɵɵelementStart(4, \"ion-row\");\n        i0.ɵɵelementStart(5, \"ion-col\");\n        i0.ɵɵelement(6, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"ion-col\", 4);\n        i0.ɵɵelement(8, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"ion-row\");\n        i0.ɵɵelementStart(11, \"ion-col\", 6);\n        i0.ɵɵelement(12, \"p\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"ion-row\");\n        i0.ɵɵelementStart(14, \"ion-col\", 6);\n        i0.ɵɵelementStart(15, \"p\", 8);\n        i0.ɵɵlistener(\"click\", function OtpverifyPage_Template_p_click_15_listener() {\n          return ctx.mobileno();\n        });\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"ion-row\", 9);\n        i0.ɵɵelementStart(18, \"ion-col\", 10);\n        i0.ɵɵelementStart(19, \"ion-input\", 11, 12);\n        i0.ɵɵlistener(\"ionFocus\", function OtpverifyPage_Template_ion_input_ionFocus_19_listener() {\n          return ctx.checkFocus(1);\n        })(\"keyup\", function OtpverifyPage_Template_ion_input_keyup_19_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          const _r1 = i0.ɵɵreference(23);\n\n          return ctx.moveFocus(_r1, ctx.FirstOtp, \"1\");\n        })(\"ngModelChange\", function OtpverifyPage_Template_ion_input_ngModelChange_19_listener($event) {\n          return ctx.FirstOtp = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"ion-col\", 10);\n        i0.ɵɵelementStart(22, \"ion-input\", 11, 13);\n        i0.ɵɵlistener(\"ionFocus\", function OtpverifyPage_Template_ion_input_ionFocus_22_listener() {\n          return ctx.checkFocus(2);\n        })(\"keyup\", function OtpverifyPage_Template_ion_input_keyup_22_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          const _r2 = i0.ɵɵreference(26);\n\n          return ctx.moveFocus(_r2, ctx.SecondOtp, \"2\");\n        })(\"ngModelChange\", function OtpverifyPage_Template_ion_input_ngModelChange_22_listener($event) {\n          return ctx.SecondOtp = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ion-col\", 10);\n        i0.ɵɵelementStart(25, \"ion-input\", 11, 14);\n        i0.ɵɵlistener(\"ionFocus\", function OtpverifyPage_Template_ion_input_ionFocus_25_listener() {\n          return ctx.checkFocus(3);\n        })(\"keyup\", function OtpverifyPage_Template_ion_input_keyup_25_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          const _r3 = i0.ɵɵreference(29);\n\n          return ctx.moveFocus(_r3, ctx.ThirdOtp, \"3\");\n        })(\"ngModelChange\", function OtpverifyPage_Template_ion_input_ngModelChange_25_listener($event) {\n          return ctx.ThirdOtp = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"ion-col\", 10);\n        i0.ɵɵelementStart(28, \"ion-input\", 11, 15);\n        i0.ɵɵlistener(\"ionFocus\", function OtpverifyPage_Template_ion_input_ionFocus_28_listener() {\n          return ctx.checkFocus(4);\n        })(\"keyup\", function OtpverifyPage_Template_ion_input_keyup_28_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          const _r3 = i0.ɵɵreference(29);\n\n          return ctx.moveFocus(_r3, ctx.FourthOtp, \"4\");\n        })(\"ngModelChange\", function OtpverifyPage_Template_ion_input_ngModelChange_28_listener($event) {\n          return ctx.FourthOtp = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ion-row\");\n        i0.ɵɵelementStart(31, \"ion-col\", 6);\n        i0.ɵɵelementStart(32, \"p\", 16);\n        i0.ɵɵlistener(\"click\", function OtpverifyPage_Template_p_click_32_listener() {\n          return ctx.SendOtp(\"Resend\", \"voice\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"ion-row\");\n        i0.ɵɵelementStart(34, \"ion-col\", 6);\n        i0.ɵɵelementStart(35, \"p\", 17);\n        i0.ɵɵtext(36);\n        i0.ɵɵelementStart(37, \"span\", 18);\n        i0.ɵɵlistener(\"click\", function OtpverifyPage_Template_span_click_37_listener() {\n          return ctx.SendOtp(\"Resend\", \"sms\");\n        });\n        i0.ɵɵtext(38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 19);\n        i0.ɵɵelementStart(40, \"ion-button\", 20);\n        i0.ɵɵlistener(\"click\", function OtpverifyPage_Template_ion_button_click_40_listener() {\n          return ctx.Continue();\n        });\n        i0.ɵɵtext(41);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(42, \"img\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(19, _c0, ctx.platform.width() < 740));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(21, _c1, ctx.platform.width() > 740));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"innerHTML\", ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.FirstMsg, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate2(\"\", ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.changeNumberText, \"\\u00A0\", ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.SecondMsg, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"size\", 3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.FirstOtp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"size\", 3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.SecondOtp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"size\", 3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.ThirdOtp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"size\", 3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.FourthOtp);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"innerHTML\", ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.voiceMsg, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\", ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.ThirdMsg, \"\\u00A0 \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.resendText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(23, _c2, ctx.platform.width() < 740));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.FirstOtp.trim() == \"\" || ctx.SecondOtp.trim() == \"\" || ctx.ThirdOtp.trim() == \"\" || ctx.FourthOtp.trim() == \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.mobileNumberData == null ? null : ctx.mobileNumberData.data == null ? null : ctx.mobileNumberData.data.buttonText);\n      }\n    },\n    directives: [i2.IonContent, i6.NgClass, i2.IonRow, i2.IonCol, i2.IonGrid, i2.IonInput, i2.TextValueAccessor, i7.MaxLengthValidator, i7.NgControlStatus, i7.NgModel, i2.IonButton],\n    styles: [\".col[_ngcontent-%COMP%]{text-align:end}.para[_ngcontent-%COMP%]{color:#b01d22;font-size:14px}ion-list[_ngcontent-%COMP%]{padding-bottom:15px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border:0!important;width:273px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,80%,.6)!important;margin:0 16px;color:var(--text-light2);font-size:1.95rem!important;font-weight:500!important;--padding-bottom:5px!important}.ionic_btn[_ngcontent-%COMP%]{border-radius:8px;width:85px;height:32px;font-size:12px}.banner_bg[_ngcontent-%COMP%]{margin-top:-66px;left:0;width:100%;display:block}.butt1[_ngcontent-%COMP%]{text-align:center}.ionic_btn[_ngcontent-%COMP%]{--background:#b01d22;--border-radius:14px;width:113px;text-transform:capitalize;height:30px;font-size:14px}.box[_ngcontent-%COMP%]{width:60px;height:45px;border:1px solid #b01d22;border-radius:6px;margin:auto}.boxInput[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:23px}.small[_ngcontent-%COMP%]{width:120px;text-align:right;margin-top:-10px}.small_p[_ngcontent-%COMP%]{width:125px}\"]\n  });\n  return OtpverifyPage;\n})();","map":null,"metadata":{},"sourceType":"module"}