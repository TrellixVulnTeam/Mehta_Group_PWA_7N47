{"ast":null,"code":"import { URLS } from 'src/assets/constant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../provider/api.service\";\nimport * as i3 from \"../services/data-transfer.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\n\nfunction AlertListPage_div_9_ion_row_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-row\", 9);\n    i0.ɵɵlistener(\"click\", function AlertListPage_div_9_ion_row_2_Template_ion_row_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const alert_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.alertDetail(alert_r4);\n    });\n    i0.ɵɵelementStart(1, \"ion-col\", 10);\n    i0.ɵɵelement(2, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-col\", 10);\n    i0.ɵɵelement(4, \"p\", 12);\n    i0.ɵɵelementStart(5, \"p\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const alert_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"size\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", alert_r4 == null ? null : alert_r4.title_icon, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"size\", 9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", alert_r4.description, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(alert_r4 == null ? null : alert_r4.created_date);\n  }\n}\n\nfunction AlertListPage_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtemplate(2, AlertListPage_div_9_ion_row_2_Template, 7, 5, \"ion-row\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.alertList == null ? null : ctx_r0.alertList.alert_notification);\n  }\n}\n\nfunction AlertListPage_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\n\nfunction AlertListPage_ion_infinite_scroll_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-infinite-scroll\", 15);\n    i0.ɵɵlistener(\"ionInfinite\", function AlertListPage_ion_infinite_scroll_11_Template_ion_infinite_scroll_ionInfinite_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.loadData($event);\n    });\n    i0.ɵɵelement(1, \"ion-infinite-scroll-content\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let AlertListPage = /*#__PURE__*/(() => {\n  class AlertListPage {\n    constructor(zone, router, apiServices, sendData) {\n      this.zone = zone;\n      this.router = router;\n      this.apiServices = apiServices;\n      this.sendData = sendData;\n      this.value = 0;\n      this.infiniteScroll_call = false;\n    }\n\n    ngOnInit() {\n      this.alertListFun();\n    }\n\n    alertListFun() {\n      this.zone.run(() => {\n        console.log(\"shivi fun called==\");\n        let apiKey = {\n          limit: this.value\n        };\n        console.log(\"brand pending api keys==\", apiKey);\n        this.apiServices.apiCallWithLoginToken(URLS.alertListApi, apiKey).subscribe(result => {\n          console.log(\"brand pending Api Result==\", result);\n          this.alertData = result;\n\n          if (result.success == 1) {\n            if (this.alertList == undefined) {\n              this.alertList = result.data;\n            } else {\n              this.alertList = this.alertList.concat(result.data);\n            }\n\n            this.errorMessage = '';\n          } else {\n            this.errorMessage = result.message; // this.apiServices.showToastMessage(result.message,'top',3000,'redBg');\n          }\n\n          if (this.infiniteScroll_call == true) {\n            this.stopInfiniteScroll();\n          }\n        }, err => {\n          this.apiServices.showToastMessage(JSON.stringify(err), 'top', 3000, 'redBg');\n\n          if (this.infiniteScroll_call == false) {\n            this.stopInfiniteScroll();\n          }\n        });\n      });\n    }\n\n    alertDetail(data) {\n      this.zone.run(() => {\n        if (data.fron_end_page_name != '') {\n          this.sendData.alldata = data;\n          console.log('alertDat', this.sendData.alldata);\n          this.router.navigate([data.fron_end_page_name]);\n        } else {}\n      });\n    }\n\n    stopInfiniteScroll() {\n      if (this.infiniteScroll_call == true) {\n        this.infiniteScroll_call = false;\n        this.infiniteScroll_val.target.complete();\n      }\n    }\n\n    loadData(event) {\n      this.infiniteScroll_call = true;\n      this.infiniteScroll_val = event;\n      setTimeout(() => {\n        this.value = this.alertList.length;\n        this.alertListFun();\n      }, 500);\n    }\n\n  }\n\n  AlertListPage.ɵfac = function AlertListPage_Factory(t) {\n    return new (t || AlertListPage)(i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.DataTransferService));\n  };\n\n  AlertListPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlertListPage,\n    selectors: [[\"app-alert-list\"]],\n    decls: 12,\n    vars: 5,\n    consts: [[\"slot\", \"start\"], [1, \"ion-padding\"], [\"sizexs\", \"12\", \"size-md\", \"8\", \"size-lg\", \"8\", \"push-md\", \"2\", \"push-lg\", \"2\", 1, \"whiteCol\", \"ion-no-padding\", 3, \"size\"], [\"class\", \"moduleAligment\", 4, \"ngIf\"], [4, \"ngIf\"], [\"threshold\", \"100px\", 3, \"ionInfinite\", 4, \"ngIf\"], [1, \"moduleAligment\"], [1, \"dataContainer\"], [\"class\", \"alertlist\", \"tappable\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tappable\", \"\", 1, \"alertlist\", 3, \"click\"], [3, \"size\"], [\"onerror\", \"this.src='./assets/watermark/watermark.png'\", 1, \"modIcons\", 3, \"src\"], [1, \"modTitle\", 3, \"innerHTML\"], [1, \"time\", \"autoMargin\"], [1, \"ion-text-center\"], [\"threshold\", \"100px\", 3, \"ionInfinite\"], [\"loadingSpinner\", \"bubbles\", \"loadingText\", \"Loading more data...\"]],\n    template: function AlertListPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\");\n        i0.ɵɵelementStart(1, \"ion-toolbar\");\n        i0.ɵɵelementStart(2, \"ion-title\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 0);\n        i0.ɵɵelement(5, \"ion-back-button\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-content\", 1);\n        i0.ɵɵelementStart(7, \"ion-row\");\n        i0.ɵɵelementStart(8, \"ion-col\", 2);\n        i0.ɵɵtemplate(9, AlertListPage_div_9_Template, 3, 1, \"div\", 3);\n        i0.ɵɵtemplate(10, AlertListPage_div_10_Template, 3, 1, \"div\", 4);\n        i0.ɵɵtemplate(11, AlertListPage_ion_infinite_scroll_11_Template, 2, 0, \"ion-infinite-scroll\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.alertData == null ? null : ctx.alertData.pageTitle);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"size\", 12);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.alertList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage == \"\");\n      }\n    },\n    directives: [i4.IonHeader, i4.IonToolbar, i4.IonTitle, i4.IonButtons, i4.IonBackButton, i4.IonBackButtonDelegate, i4.IonContent, i4.IonRow, i4.IonCol, i5.NgIf, i5.NgForOf, i4.IonInfiniteScroll, i4.IonInfiniteScrollContent],\n    styles: [\".moduleAligment[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.dataContainer[_ngcontent-%COMP%]{padding-top:10px}.dataContainer[_ngcontent-%COMP%]   img.modIcons[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px;-o-object-fit:contain;object-fit:contain;border:1px solid #d6d4d4;display:block;margin:auto}.dataContainer[_ngcontent-%COMP%]   p.modTitle[_ngcontent-%COMP%]{margin:5px auto;line-height:1.5;font-size:14px;color:#444;font-weight:700}.dataContainer[_ngcontent-%COMP%]   .alertlist[_ngcontent-%COMP%]{border:1px solid #ececec;border-radius:5px;margin-bottom:5px;box-shadow:0 2px 5px #f1f1f1;background:#fff}.dataContainer[_ngcontent-%COMP%]   p.date[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:18px;margin-bottom:3px}.dataContainer[_ngcontent-%COMP%]   p.time[_ngcontent-%COMP%]{font-size:13px;color:gray}\"]\n  });\n  return AlertListPage;\n})();","map":null,"metadata":{},"sourceType":"module"}